var d=Object.defineProperty;var x=(t,a,e)=>a in t?d(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var n=(t,a,e)=>x(t,typeof a!="symbol"?a+"":a,e);import{j as s}from"./react-DwkAs-v9.js";import{L as h}from"./react-router-dom-BJfVfmV5.js";import{C as b,t as i,K as j}from"./index-BdFDZIEO.js";class l extends Error{constructor(e,r){super(e);n(this,"status");n(this,"isServerError");this.name="ApiError",this.status=r,this.isServerError=r!==void 0&&r>=500}static fromAxiosError(e){var r;if(e instanceof l)return e;if(e instanceof Error){const c=e,o=(r=c.response)==null?void 0:r.status,m=c.message||"API 請求失敗";return new l(m,o)}return new l("未知錯誤")}}const g=({onRetry:t,showMockOption:a=!1,onUseMock:e})=>s.jsx(b,{children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body d-flex flex-column flex-center text-center p-10",children:[s.jsx("h1",{className:"fw-bolder fs-2qx text-gray-900 mb-4",children:"系統錯誤"}),s.jsx("div",{className:"fw-semibold fs-6 text-gray-500 mb-7",children:"系統發生錯誤，請稍後再試。"}),s.jsxs("div",{className:"mb-11",children:[s.jsx("img",{src:i("media/auth/500-error.png"),className:"mw-100 mh-300px theme-light-show",alt:""}),s.jsx("img",{src:i("media/auth/500-error-dark.png"),className:"mw-100 mh-300px theme-dark-show",alt:""})]}),s.jsxs("div",{className:"mb-0 d-flex gap-3 justify-content-center",children:[t&&s.jsx("button",{className:"btn btn-primary",onClick:t,children:"重試"}),a&&e&&s.jsx("button",{className:"btn btn-light-primary",onClick:e,children:"使用 Mock 數據"}),s.jsx(h,{to:"/tom/dashboard",className:"btn btn-light",children:"返回首頁"})]})]})})}),k=({open:t,onConfirm:a,onCancel:e})=>t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal fade show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,.5)"},children:s.jsx("div",{className:"modal-dialog modal-dialog-centered",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h5",{className:"modal-title text-primary",children:[s.jsx(j,{iconName:"information-5",className:"fs-2 me-2 text-primary"}),"使用 Mock 數據？"]}),s.jsx("button",{type:"button",className:"btn btn-sm btn-light",onClick:e,children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("p",{className:"mb-3",children:"系統偵測到 API 錯誤，是否要使用 Mock 數據來顯示頁面？"}),s.jsx("p",{className:"text-muted mb-0 small",children:"使用 Mock 數據可以讓您繼續查看頁面內容，但數據僅供展示使用。"})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-light",onClick:e,children:"取消"}),s.jsx("button",{className:"btn btn-primary",onClick:a,children:"使用 Mock 數據"})]})]})})}),s.jsx("div",{className:"modal-backdrop fade show"})]}):null;export{l as A,g as E,k as M};
