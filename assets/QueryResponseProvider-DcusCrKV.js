import{r as o,j as d}from"./react-DwkAs-v9.js";import{d as $}from"./@tanstack-BGZqBxWN.js";import"./index-wbzsHQ-6.js";import{q as c}from"./qs-DqtHLuEQ.js";import{a as u}from"./axios-mH-cpkvd.js";function U(e){return o.createContext(e)}function p(e){return e!=null&&e!==""}function f(e){const t=c.stringify(e,{filter:["page","items_per_page"],skipNulls:!0}),s=c.stringify(e,{filter:["sort","order"],skipNulls:!0}),n=p(e.search)?c.stringify(e,{filter:["search"],skipNulls:!0}):"",a=e.filter?Object.entries(e.filter).filter(r=>p(r[1])).map(r=>`filter_${r[0]}=${r[1]}`).join("&"):"";return[t,s,n,a].filter(r=>r).join("&").toLowerCase()}function v(e,t){return e?!0:!t||!t.length}function A(e,t){return e?e.length>0&&e.length===t.length:!1}function D(e,t,s){if(e)if(t.includes(e))s(t.filter(n=>n!==e));else{const n=[...t];n.push(e),s(n)}}function T(e,t,s){if(e){t([]);return}!s||!s.length||t(s.filter(n=>n.id).map(n=>n.id))}function b(e,t){const[s,n]=o.useState(e);return o.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),s}const g={page:1,items_per_page:10},y={state:g,updateState:()=>{}},q={refetch:()=>{},isLoading:!1,query:""},w={selected:[],onSelect:()=>{},onSelectAll:()=>{},clearSelected:()=>{},setItemIdForUpdate:()=>{},isAllSelected:!1,disabled:!1},x={USERS_LIST:"users-list"},h="https://preview.keenthemes.com/theme-api/api",i=`${h}/user`,E=`${h}/users/query`,L=e=>u.get(`${E}?${e}`).then(t=>t.data),F=e=>u.get(`${i}/${e}`).then(t=>t.data).then(t=>t.data),N=e=>u.put(i,e).then(t=>t.data).then(t=>t.data),O=e=>u.post(`${i}/${e.id}`,e).then(t=>t.data).then(t=>t.data),V=e=>u.delete(`${i}/${e}`).then(()=>{}),G=e=>{const t=e.map(s=>u.delete(`${i}/${s}`));return u.all(t).then(()=>{})},S=o.createContext(y),B=({children:e})=>{const[t,s]=o.useState(y.state),n=a=>{const r={...t,...a};s(r)};return d.jsx(S.Provider,{value:{state:t,updateState:n},children:e})},_=()=>o.useContext(S),m=U(q),K=({children:e})=>{const{state:t}=_(),[s,n]=o.useState(f(t)),a=o.useMemo(()=>f(t),[t]);o.useEffect(()=>{s!==a&&n(a)},[a]);const{isFetching:r,refetch:R,data:Q}=$({queryKey:[`${x.USERS_LIST}-${s}`],queryFn:()=>L(s),refetchOnWindowFocus:!1});return d.jsx(m.Provider,{value:{isLoading:r,refetch:R,response:Q,query:s},children:e})},l=()=>o.useContext(m),M=()=>{const{response:e}=l();return e?(e==null?void 0:e.data)||[]:[]},W=()=>{const e={links:[],...g},{response:t}=l();return!t||!t.payload||!t.payload.pagination?e:t.payload.pagination},z=()=>{const{isLoading:e}=l();return e};export{x as Q,M as a,A as b,v as c,T as d,_ as e,g as f,D as g,G as h,w as i,b as j,V as k,W as l,z as m,p as n,O as o,N as p,F as q,B as r,K as s,l as u};
