import{r,j as e}from"./react-DwkAs-v9.js";import{i as $,h as R,e as z,C as E,K as p,o as A,P as O}from"./index-CbhZY4ci.js";import{A as S}from"./AppToolbar-BZHSVYI7.js";import{A as U,E as K,M as G}from"./MockDataDialog-BG3uQJ4e.js";import{a as Z,g as Q,d as X,e as M,f as I}from"./react-router-Df4HDh8c.js";import{C as J}from"./ConfirmDeleteModal-B-C_keKM.js";import{P as V}from"./PagedTable-fW2f3xMh.js";import{S as Y}from"./react-bootstrap-BUaeuJHt.js";import"./apexcharts-sziEC8OT.js";import"./react-dom-DVTd-Q6a.js";import"./scheduler-CylivXx-.js";import"./axios-mH-cpkvd.js";import"./formik-B67XZPDW.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-ClCkCI8n.js";import"./react-fast-compare-0sFLRPh9.js";import"./hoist-non-react-statics-C-8QU_9G.js";import"./react-is-8JwjhRSi.js";import"./yup-BLKqc-jj.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-7gDswQQa.js";import"./clsx-B-dksMZM.js";import"./react-router-dom-BJfVfmV5.js";import"./@remix-run-DUdlTjFu.js";import"./chart.js-xWmoy_ii.js";import"./@kurkle-D8fDXNIl.js";import"./@tanstack-BGZqBxWN.js";import"./react-copy-to-clipboard-C4AWj7CK.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./prism-react-renderer-BV8xJdsO.js";import"./react-select-Z1ywkuii.js";import"./@babel-B036hIWL.js";import"./@emotion-Cdt29Dgm.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-DZ2V_EUC.js";import"./use-isomorphic-layout-effect-CgCMJW-V.js";import"./memoize-one-DxrTgWdQ.js";import"./@popperjs-D8Kg5PqX.js";import"./react-topbar-progress-indicator-BI-R5WY2.js";import"./topbar-C3UDlew2.js";import"./bootstrap-D7dJWYZj.js";import"./classnames-Bztn78Bv.js";import"./dom-helpers-C9Bu-4wA.js";import"./@restart-rvtB3BAN.js";import"./dequal-tFQomdd2.js";import"./warning-DaFg7xBm.js";import"./prop-types-smO-eibg.js";import"./uncontrollable-C0VNg-tm.js";import"./react-transition-group-DSbRRiC3.js";const L="/api/port";async function ee(a,s){if($()){console.log("[Mock] 使用 Mock 港口列表",a),await new Promise(d=>setTimeout(d,300));const l=[{id:"1",code:"TPE",name:"台北港",address:"新北市八里區商港路123號",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",code:"KHH",name:"高雄港",address:"高雄市鼓山區臨海二路62號",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"3",code:"TWN",name:"台中港",address:"台中市梧棲區中橫十路2號",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];return Promise.resolve({content:l,totalElements:l.length,totalPages:1,size:a.size??10,number:a.page??0,first:(a.page??0)===0,last:!0,empty:l.length===0})}try{const l=await R.get(`${L}/ports`,{params:a});return{...l.data.data,content:l.data.data.content||[]}}catch(l){console.error(l);const d=U.fromAxiosError(l);if(d.isServerError)throw d;return s==null||s("取得港口列表失敗，請稍後再試","danger"),{content:[],totalElements:0,totalPages:0,size:a.size??10,number:a.page??0,first:!0,last:!0,empty:!0}}}async function se(a,s){if($())return console.log("[Mock] 使用 Mock 港口詳情",a),await new Promise(b=>setTimeout(b,300)),{port:{id:a,code:"TPE",name:"台北港",address:"新北市八里區商港路123號",status:"active",contactPhone:"02-1234-5678",contactEmail:"contact@tpeport.gov.tw",description:"台灣主要國際商港之一",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},entryTimeRules:[{id:"1",portId:a,dayOfWeek:"monday",startTime:"08:00",endTime:"17:00",maxCapacity:100,currentCapacity:45,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",portId:a,dayOfWeek:"tuesday",startTime:"08:00",endTime:"17:00",maxCapacity:100,currentCapacity:60,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],operationRules:[{id:"1",portId:a,operationType:"both",containerTypeLimits:[{containerType:"20GP",maxWeight:30,isAllowed:!0},{containerType:"40GP",maxWeight:30,isAllowed:!0},{containerType:"40HQ",maxWeight:30,maxHeight:2.9,isAllowed:!0}],specialRequirements:"需提前24小時預約",maxConcurrentOperations:10,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}]};try{return(await R.get(`${L}/ports/${a}`)).data.data}catch(l){return console.error(l),s==null||s("取得港口詳情失敗，請稍後再試","danger"),null}}async function ae(a,s){if($())return console.log("[Mock] 模擬建立港口",a),await new Promise(l=>setTimeout(l,500)),s==null||s("港口建立成功 (Mock)","success"),!0;try{return await R.post(`${L}/ports`,a),s==null||s("港口建立成功","success"),!0}catch(l){return console.error(l),s==null||s("建立港口失敗，請稍後再試","danger"),!1}}async function te(a,s){if($())return console.log("[Mock] 模擬刪除港口",a),await new Promise(l=>setTimeout(l,500)),s==null||s("港口刪除成功 (Mock)","success"),!0;try{return await R.delete(`${L}/ports/${a}`),s==null||s("港口刪除成功","success"),!0}catch(l){return console.error(l),s==null||s("刪除港口失敗，請稍後再試","danger"),!1}}function le(){const a=Z(),{alert:s,showAlert:l,Alert:d}=z(),[u,b]=r.useState(!1),[c,x]=r.useState({code:"",name:"",address:"",contactPhone:"",contactEmail:"",description:"",status:"active"}),j=async i=>{if(i.preventDefault(),!c.code.trim()||!c.name.trim()||!c.address.trim()){l("請填寫必填欄位（代碼、名稱、地址）","danger");return}b(!0);try{await ae(c,l)&&a("/port/list")}finally{b(!1)}};return e.jsxs(E,{children:[s&&e.jsx(d,{message:s.message,type:s.type}),e.jsx(S,{title:"建立港口",breadcrumbs:[{label:"港口整合",href:"#"},{label:"港口列表",href:"/port/list"},{label:"建立港口",active:!0}]}),e.jsx("div",{className:"flex-column-fluid",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsx("div",{className:"card-title",children:e.jsx("h3",{className:"fw-bold m-0",children:"建立港口"})})}),e.jsx("div",{className:"card-body pt-0",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted required",children:"港口代碼"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("input",{type:"text",className:"form-control form-control-solid",placeholder:"例如：TPE",value:c.code,onChange:i=>x({...c,code:i.target.value.toUpperCase()}),required:!0})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted required",children:"港口名稱"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("input",{type:"text",className:"form-control form-control-solid",placeholder:"例如：台北港",value:c.name,onChange:i=>x({...c,name:i.target.value}),required:!0})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted required",children:"地址"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("input",{type:"text",className:"form-control form-control-solid",placeholder:"完整地址",value:c.address,onChange:i=>x({...c,address:i.target.value}),required:!0})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"聯絡電話"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("input",{type:"text",className:"form-control form-control-solid",placeholder:"例如：02-1234-5678",value:c.contactPhone||"",onChange:i=>x({...c,contactPhone:i.target.value})})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"聯絡信箱"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("input",{type:"email",className:"form-control form-control-solid",placeholder:"例如：contact@port.gov.tw",value:c.contactEmail||"",onChange:i=>x({...c,contactEmail:i.target.value})})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"描述"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("textarea",{className:"form-control form-control-solid",rows:3,placeholder:"港口描述資訊",value:c.description||"",onChange:i=>x({...c,description:i.target.value})})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"狀態"}),e.jsx("div",{className:"col-lg-8",children:e.jsxs("select",{className:"form-select form-select-solid",value:c.status||"active",onChange:i=>x({...c,status:i.target.value}),children:[e.jsx("option",{value:"active",children:"啟用"}),e.jsx("option",{value:"inactive",children:"停用"}),e.jsx("option",{value:"maintenance",children:"維護中"})]})})]}),e.jsxs("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:[e.jsx("button",{type:"button",className:"btn btn-light me-3",onClick:()=>a("/port/list"),disabled:u,children:"取消"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"建立中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{iconName:"check",className:"fs-2"}),"建立港口"]})})]})]})})]})})]})}const re=10,ce=a=>a?new Date(a).toLocaleDateString("zh-TW"):"-",ne=a=>{if(!a)return{label:"-",className:"badge-light-secondary"};switch(a){case"active":return{label:"啟用",className:"badge-light-success"};case"inactive":return{label:"停用",className:"badge-light-danger"};case"maintenance":return{label:"維護中",className:"badge-light-warning"};default:return{label:a,className:"badge-light-secondary"}}},ie=({searchKeyword:a,showAlert:s,onEdit:l})=>{const d=Z(),[u,b]=r.useState([]),[c,x]=r.useState(0),[j,i]=r.useState(1),[h,y]=r.useState(1),[w,m]=r.useState(!1),[N,T]=r.useState(null),[o,C]=r.useState(!1),[D,k]=r.useState(!1),[W,P]=r.useState(!1),g=r.useCallback(async()=>{m(!0),k(!1);try{const n={page:h-1,size:re,keyword:a!=null&&a.trim()?a.trim():void 0},v=await ee(n,s);b(v.content),x(v.totalElements),i(v.totalPages||1)}catch(n){U.fromAxiosError(n).isServerError?(k(!0),P(!0)):s("取得港口列表失敗，請稍後再試","danger")}finally{m(!1)}},[h,a,s]),t=r.useCallback(()=>{A(),P(!1),k(!1),g()},[g]),f=r.useCallback(()=>{k(!1),g()},[g]);r.useEffect(()=>{y(1)},[a]),r.useEffect(()=>{g()},[g]);const F=r.useCallback(n=>{d(`/port/${n.id}/detail`)},[d]),q=n=>T(n),_=async()=>{if(!N)return;const n=N.id;if(!n){s("缺少港口識別碼，無法刪除","danger");return}try{C(!0),await te(String(n),s)&&(await g(),T(null))}finally{C(!1)}};if(D)return e.jsxs(e.Fragment,{children:[e.jsx(K,{onRetry:f,showMockOption:!0,onUseMock:t}),e.jsx(G,{open:W,onConfirm:t,onCancel:()=>P(!1)})]});const B=[{header:"港口代碼",className:"min-w-120px"},{header:"港口名稱",className:"min-w-180px"},{header:"地址",className:"min-w-300px"},{header:"狀態",className:"min-w-110px"},{header:"建立時間",className:"min-w-120px"},{header:"操作",className:"text-end min-w-200px"}];return e.jsxs(e.Fragment,{children:[e.jsx(V,{columns:B,rows:u,loading:w,emptyText:"沒有港口資料",page:h,totalPages:j,totalElements:c,onPrev:()=>y(n=>Math.max(1,n-1)),onNext:()=>y(n=>Math.min(j||1,n+1)),renderRow:n=>{const v=ne(n.status);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("div",{className:"d-flex flex-column",children:e.jsx("span",{className:"text-gray-800 mb-1",children:n.code})})})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-800 fw-bold",children:n.name})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-600",children:n.address})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${v.className} fs-7 fw-bold`,children:v.label})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-600",children:ce(n.createdAt)})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex justify-content-end flex-shrink-0",children:[e.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:()=>F(n),title:"查看詳情",children:e.jsx(p,{iconName:"eye",className:"fs-3"})}),l&&e.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:()=>l(n),title:"編輯",children:e.jsx(p,{iconName:"pencil",className:"fs-3"})}),e.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-danger btn-sm",onClick:()=>q(n),title:"刪除",children:e.jsx(p,{iconName:"trash",className:"fs-3"})})]})})]},n.id)}}),e.jsx(J,{open:!!N,onClose:()=>T(null),onConfirm:_,deleting:o,title:"確認刪除港口",message:`確定要刪除港口「${N==null?void 0:N.name}」嗎？此操作無法復原。`})]})};function oe(){const{alert:a,showAlert:s,Alert:l}=z(),d=Z(),[u,b]=r.useState(""),[c,x]=r.useState(""),[j,i]=r.useState(0),h=m=>{m.key==="Enter"&&b(c.trim())},y=()=>{d("/port/create")},w=m=>{d(`/port/${m.id}/edit`)};return r.useEffect(()=>{},[s]),e.jsxs(E,{children:[a&&e.jsx(l,{message:a.message,type:a.type}),e.jsx(S,{title:"港口列表",breadcrumbs:[{label:"港口整合",href:"#"},{label:"港口列表",active:!0}]}),e.jsx("div",{className:"flex-column-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(p,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text",className:"form-control form-control-solid w-250px ps-14",placeholder:"港口代碼 / 名稱 / 地址…",value:c,onChange:m=>x(m.target.value),onKeyDown:h})]})}),e.jsx("div",{className:"card-toolbar",children:e.jsx("div",{className:"d-flex justify-content-end gap-2 flex-wrap",children:e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:y,children:[e.jsx(p,{iconName:"plus",className:"fs-2"}),"建立港口"]})})})]}),e.jsx("div",{className:"card-body py-4",children:e.jsx(ie,{searchKeyword:u,showAlert:s,onEdit:w},j)})]})})]})}const de=()=>{const{id:a}=Q(),s=Z(),{alert:l,showAlert:d,Alert:u}=z(),[b,c]=r.useState(!0),[x,j]=r.useState(null),[i,h]=r.useState(!1),[y,w]=r.useState(!1),m=r.useCallback(async()=>{if(!a){j(null),c(!1);return}c(!0),h(!1);try{const t=await se(a,d);j(t)}catch(t){console.error(t),U.fromAxiosError(t).isServerError?(h(!0),w(!0)):(d("取得港口詳情失敗","danger"),j(null))}finally{c(!1)}},[a,d]),N=r.useCallback(()=>{A(),w(!1),h(!1),m()},[m]),T=r.useCallback(()=>{h(!1),m()},[m]);if(r.useEffect(()=>{m()},[m]),i)return e.jsxs(e.Fragment,{children:[e.jsx(K,{onRetry:T,showMockOption:!0,onUseMock:N}),e.jsx(G,{open:y,onConfirm:N,onCancel:()=>w(!1)})]});if(b)return e.jsxs(E,{children:[e.jsx(S,{title:"港口詳情",breadcrumbs:[{label:"港口整合",href:"#"},{label:"港口列表",href:"/port/list"},{label:"港口詳情",active:!0}]}),e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(Y,{animation:"border",variant:"primary"})})]});if(!x)return e.jsxs(E,{children:[e.jsx(S,{title:"港口詳情",breadcrumbs:[{label:"港口整合",href:"#"},{label:"港口列表",href:"/port/list"},{label:"港口詳情",active:!0}]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-10",children:[e.jsx("p",{className:"text-gray-600",children:"找不到港口資料"}),e.jsx("button",{className:"btn btn-primary",onClick:()=>s("/port/list"),children:"返回列表"})]})})]});const{port:o,entryTimeRules:C,operationRules:D}=x,k=t=>{switch(t){case"active":return{label:"啟用",className:"badge-light-success"};case"inactive":return{label:"停用",className:"badge-light-danger"};case"maintenance":return{label:"維護中",className:"badge-light-warning"};default:return{label:t,className:"badge-light-secondary"}}},W=t=>({monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sunday:"星期日"})[t]||t,P=t=>{switch(t){case"loading":return"裝貨";case"unloading":return"卸貨";case"both":return"裝卸貨";default:return t}},g=k(o.status);return e.jsxs(E,{children:[l&&e.jsx(u,{message:l.message,type:l.type}),e.jsx(S,{title:"港口詳情",breadcrumbs:[{label:"港口整合",href:"#"},{label:"港口列表",href:"/port/list"},{label:o.name,active:!0}]}),e.jsxs("div",{className:"flex-column-fluid",children:[e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsx("h3",{className:"fw-bold m-0",children:"港口基本資訊"})}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>s(`/port/${o.id}/edit`),children:[e.jsx(p,{iconName:"pencil",className:"fs-2"}),"編輯"]})})]}),e.jsxs("div",{className:"card-body pt-0",children:[e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"港口代碼"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.code})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"港口名稱"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.name})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"地址"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.address})})]}),o.contactPhone&&e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"聯絡電話"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.contactPhone})})]}),o.contactEmail&&e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"聯絡信箱"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.contactEmail})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"狀態"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:`badge ${g.className} fs-7 fw-bold`,children:g.label})})]}),o.description&&e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-semibold text-muted",children:"描述"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-800",children:o.description})})]})]})]}),e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsx("h3",{className:"fw-bold m-0",children:"進場時段規則"})}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>s(`/port/${o.id}/entry-time-rules/create`),children:[e.jsx(p,{iconName:"plus",className:"fs-2"}),"新增規則"]})})]}),e.jsx("div",{className:"card-body pt-0",children:C.length===0?e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-600",children:"尚無進場時段規則"})}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-120px",children:"星期"}),e.jsx("th",{className:"min-w-120px",children:"開始時間"}),e.jsx("th",{className:"min-w-120px",children:"結束時間"}),e.jsx("th",{className:"min-w-120px text-end",children:"容量限制"}),e.jsx("th",{className:"min-w-100px text-end",children:"已使用"}),e.jsx("th",{className:"min-w-100px",children:"狀態"}),e.jsx("th",{className:"min-w-150px text-end",children:"操作"})]})}),e.jsx("tbody",{children:C.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"text-gray-800 fw-bold",children:W(t.dayOfWeek)})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-600",children:t.startTime})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-600",children:t.endTime})}),e.jsx("td",{className:"text-end",children:e.jsx("span",{className:"text-gray-800 fw-bold",children:t.maxCapacity})}),e.jsx("td",{className:"text-end",children:e.jsx("span",{className:"text-gray-600",children:t.currentCapacity||0})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${t.isActive?"badge-light-success":"badge-light-danger"} fs-7 fw-bold`,children:t.isActive?"啟用":"停用"})}),e.jsx("td",{className:"text-end",children:e.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:()=>s(`/port/${o.id}/entry-time-rules/${t.id}/edit`),title:"編輯",children:e.jsx(p,{iconName:"pencil",className:"fs-3"})})})]},t.id))})]})})})]}),e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsx("h3",{className:"fw-bold m-0",children:"港口作業規則"})}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>s(`/port/${o.id}/operation-rules/create`),children:[e.jsx(p,{iconName:"plus",className:"fs-2"}),"新增規則"]})})]}),e.jsx("div",{className:"card-body pt-0",children:D.length===0?e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-600",children:"尚無港口作業規則"})}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-120px",children:"作業類型"}),e.jsx("th",{className:"min-w-200px",children:"貨櫃類型限制"}),e.jsx("th",{className:"min-w-120px text-end",children:"最大同時作業數"}),e.jsx("th",{className:"min-w-200px",children:"特殊要求"}),e.jsx("th",{className:"min-w-100px",children:"狀態"}),e.jsx("th",{className:"min-w-150px text-end",children:"操作"})]})}),e.jsx("tbody",{children:D.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"text-gray-800 fw-bold",children:P(t.operationType)})}),e.jsx("td",{children:e.jsx("div",{className:"d-flex flex-wrap gap-2",children:t.containerTypeLimits.map((f,F)=>e.jsxs("span",{className:`badge ${f.isAllowed?"badge-light-success":"badge-light-danger"} fs-7`,children:[f.containerType,f.maxWeight&&` (${f.maxWeight}噸)`,f.maxHeight&&` H:${f.maxHeight}m`]},F))})}),e.jsx("td",{className:"text-end",children:e.jsx("span",{className:"text-gray-800 fw-bold",children:t.maxConcurrentOperations||"-"})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-600",children:t.specialRequirements||"-"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${t.isActive?"badge-light-success":"badge-light-danger"} fs-7 fw-bold`,children:t.isActive?"啟用":"停用"})}),e.jsx("td",{className:"text-end",children:e.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",onClick:()=>s(`/port/${o.id}/operation-rules/${t.id}/edit`),title:"編輯",children:e.jsx(p,{iconName:"pencil",className:"fs-3"})})})]},t.id))})]})})})]})]})]})},H=[{title:"港口整合",path:"/port/list",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],is=()=>e.jsxs(X,{children:[e.jsx(M,{path:"",element:e.jsx(I,{to:"list",replace:!0})}),e.jsx(M,{path:"list",element:e.jsxs(e.Fragment,{children:[e.jsx(O,{breadcrumbs:H,children:"港口列表"}),e.jsx(oe,{})]})}),e.jsx(M,{path:"create",element:e.jsxs(e.Fragment,{children:[e.jsx(O,{breadcrumbs:H,children:"建立港口"}),e.jsx(le,{})]})}),e.jsx(M,{path:":id/detail",element:e.jsxs(e.Fragment,{children:[e.jsx(O,{breadcrumbs:H,children:"港口詳情"}),e.jsx(de,{})]})})]});export{le as CreatePage,de as DetailPage,oe as ListPage,is as default};
