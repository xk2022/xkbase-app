import{i as u,h as m}from"./index-BdFDZIEO.js";const y=e=>({uuid:e.id,plateNo:e.plateNo,type:e.type,brand:e.brand,model:e.model,capacityTon:e.capacityTon,status:e.status,enabled:e.enabled,currentDriverId:e.currentDriverId??null,currentOdometer:e.currentOdometer??null,remark:e.remark,createdTime:e.createdTime,updatedTime:e.updatedTime}),b=[{id:"v-001",plateNo:"ABC-1234",type:"TRACTOR",brand:"VOLVO",model:"FH16",capacityTon:25,status:"AVAILABLE",enabled:!0,currentDriverId:null,currentOdometer:15e4,remark:"主要用於長途運輸",createdTime:"2024-01-15T10:00:00Z",updatedTime:"2024-01-15T10:00:00Z"},{id:"v-002",plateNo:"XYZ-5678",type:"TRAILER_40",brand:"HYUNDAI",model:"HD78",capacityTon:20,status:"IN_USE",enabled:!0,currentDriverId:"d-001",currentOdometer:12e4,remark:"40尺板車，適合大型貨物",createdTime:"2024-02-01T09:00:00Z",updatedTime:"2024-02-01T09:00:00Z"},{id:"v-003",plateNo:"DEF-9012",type:"TRAILER_20",brand:"ISUZU",model:"FVR",capacityTon:15,status:"AVAILABLE",enabled:!0,currentDriverId:null,currentOdometer:8e4,remark:"20尺板車，適合市區配送",createdTime:"2024-02-10T14:30:00Z",updatedTime:"2024-02-10T14:30:00Z"},{id:"v-004",plateNo:"GHI-3456",type:"REFRIGERATED_TRUCK",brand:"MITSUBISHI",model:"FUSO",capacityTon:10,status:"BUSY",enabled:!0,currentDriverId:"d-002",currentOdometer:95e3,remark:"冷凍車，用於生鮮食品運輸",createdTime:"2024-01-20T11:00:00Z",updatedTime:"2024-01-20T11:00:00Z"},{id:"v-005",plateNo:"JKL-7890",type:"SMALL_TRUCK",brand:"TOYOTA",model:"HIACE",capacityTon:3,status:"MAINTENANCE",enabled:!0,currentDriverId:null,currentOdometer:2e5,remark:"小貨車，定期保養中",createdTime:"2023-12-01T08:00:00Z",updatedTime:"2024-03-01T08:00:00Z"},{id:"v-006",plateNo:"MNO-2468",type:"VAN",brand:"FORD",model:"TRANSIT",capacityTon:2,status:"AVAILABLE",enabled:!0,currentDriverId:null,currentOdometer:5e4,remark:"廂型車，適合小件貨物配送",createdTime:"2024-03-01T10:00:00Z",updatedTime:"2024-03-01T10:00:00Z"},{id:"v-007",plateNo:"PQR-1357",type:"TRACTOR",brand:"SCANIA",model:"R450",capacityTon:30,status:"IDLE",enabled:!0,currentDriverId:null,currentOdometer:18e4,remark:"大型車頭，待指派任務",createdTime:"2024-01-10T09:00:00Z",updatedTime:"2024-01-10T09:00:00Z"},{id:"v-008",plateNo:"STU-9753",type:"TRAILER_40",brand:"DAF",model:"XF",capacityTon:22,status:"RESERVED",enabled:!0,currentDriverId:"d-003",currentOdometer:11e4,remark:"已預約，明日出車",createdTime:"2024-02-15T13:00:00Z",updatedTime:"2024-02-15T13:00:00Z"}];async function k(e,t){if(u())return console.log("[Mock] 模擬建立車輛",e),await new Promise(a=>setTimeout(a,500)),t==null||t("新增車輛成功 (Mock)","success"),!0;try{const a=await m.post("/api/fms/vehicles",e);return console.log(a.data.data),t==null||t("新增車輛成功","success"),!0}catch(a){return console.error(a),t==null||t("新增車輛失敗，請稍後再試","danger"),!1}}async function R(e,t){var a;if(u()){console.log("[Mock] 使用 Mock 車輛列表",e),await new Promise(c=>setTimeout(c,300));let r=[...b];if((a=e.keyword)!=null&&a.trim()){const c=e.keyword.toLowerCase();r=r.filter(d=>{var p,l,I;return d.plateNo.toLowerCase().includes(c)||((p=d.brand)==null?void 0:p.toLowerCase().includes(c))||((l=d.model)==null?void 0:l.toLowerCase().includes(c))||((I=d.remark)==null?void 0:I.toLowerCase().includes(c))})}const n=e.page||0,i=e.size||10,s=n*i,T=s+i,o=r.slice(s,T);return{content:o.map(y),totalElements:r.length,totalPages:Math.ceil(r.length/i),size:i,number:n,first:n===0,last:T>=r.length,empty:o.length===0}}try{const n=(await m.get("/api/fms/vehicles",{params:e})).data.data;return{...n,content:(n.content||[]).map(y)}}catch(r){return console.error(r),t==null||t("取得車輛列表失敗，請稍後再試","danger"),{content:[],totalElements:0,totalPages:0,size:e.size,number:e.page,first:!0,last:!0,empty:!0}}}async function E(e,t,a){if(u())return console.log("[Mock] 模擬更新車輛",e,t),await new Promise(r=>setTimeout(r,500)),a==null||a("更新車輛成功 (Mock)","success"),!0;try{return await m.put(`/api/fms/vehicles/${e}`,t),a==null||a("更新車輛成功","success"),!0}catch(r){return console.error(r),a==null||a("更新車輛失敗，請稍後再試","danger"),!1}}async function g(e,t){if(u())return console.log("[Mock] 模擬刪除車輛",e),await new Promise(a=>setTimeout(a,500)),t==null||t("刪除車輛成功 (Mock)","success"),!0;try{return await m.delete(`/api/fms/vehicles/${e}`),t==null||t("刪除車輛成功","success"),!0}catch(a){return console.error(a),t==null||t("刪除車輛失敗，請稍後再試","danger"),!1}}export{k as c,g as d,R as f,E as u};
