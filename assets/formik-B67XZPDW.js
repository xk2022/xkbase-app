import{d as oe}from"./deepmerge-DhIoniG1.js";import{c as $,i as ge,t as _e,a as Ie}from"./lodash-es-ClCkCI8n.js";import{r as f}from"./react-DwkAs-v9.js";import{i as U}from"./react-fast-compare-0sFLRPh9.js";import{h as Ke}from"./hoist-non-react-statics-C-8QU_9G.js";function y(){return y=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(r[a]=u[a])}return r},y.apply(this,arguments)}function ke(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function N(r,t){if(r==null)return{};var u={},a=Object.keys(r),e,i;for(i=0;i<a.length;i++)e=a[i],!(t.indexOf(e)>=0)&&(u[e]=r[e]);return u}function Re(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var q=f.createContext(void 0);q.displayName="FormikContext";var Ye=q.Provider,qe=q.Consumer;function Ve(){var r=f.useContext(q);return r}var be=function(t){return Array.isArray(t)&&t.length===0},I=function(t){return typeof t=="function"},W=function(t){return t!==null&&typeof t=="object"},Je=function(t){return String(Math.floor(Number(t)))===t},ie=function(t){return Object.prototype.toString.call(t)==="[object String]"},Me=function(t){return f.Children.count(t)===0},ae=function(t){return W(t)&&I(t.then)};function A(r,t,u,a){a===void 0&&(a=0);for(var e=_e(t);r&&a<e.length;)r=r[e[a++]];return a!==e.length&&!r||r===void 0?u:r}function w(r,t,u){for(var a=Ie(r),e=a,i=0,o=_e(t);i<o.length-1;i++){var c=o[i],h=A(r,o.slice(0,i+1));if(h&&(W(h)||Array.isArray(h)))e=e[c]=Ie(h);else{var T=o[i+1];e=e[c]=Je(T)&&Number(T)>=0?[]:{}}}return(i===0?r:e)[o[i]]===u?r:(u===void 0?delete e[o[i]]:e[o[i]]=u,i===0&&u===void 0&&delete a[o[i]],a)}function Oe(r,t,u,a){u===void 0&&(u=new WeakMap),a===void 0&&(a={});for(var e=0,i=Object.keys(r);e<i.length;e++){var o=i[e],c=r[o];W(c)?u.get(c)||(u.set(c,!0),a[o]=Array.isArray(c)?[]:{},Oe(c,t,u,a[o])):a[o]=t}return a}function Qe(r,t){switch(t.type){case"SET_VALUES":return y({},r,{values:t.payload});case"SET_TOUCHED":return y({},r,{touched:t.payload});case"SET_ERRORS":return U(r.errors,t.payload)?r:y({},r,{errors:t.payload});case"SET_STATUS":return y({},r,{status:t.payload});case"SET_ISSUBMITTING":return y({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return y({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return y({},r,{values:w(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return y({},r,{touched:w(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return y({},r,{errors:w(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return y({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return y({},r,{touched:Oe(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return y({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return y({},r,{isSubmitting:!1});default:return r}}var P={},Y={};function Xe(r){var t=r.validateOnChange,u=t===void 0?!0:t,a=r.validateOnBlur,e=a===void 0?!0:a,i=r.validateOnMount,o=i===void 0?!1:i,c=r.isInitialValid,h=r.enableReinitialize,T=h===void 0?!1:h,R=r.onSubmit,g=N(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=y({validateOnChange:u,validateOnBlur:e,validateOnMount:o,onSubmit:R},g),F=f.useRef(s.initialValues),k=f.useRef(s.initialErrors||P),C=f.useRef(s.initialTouched||Y),V=f.useRef(s.initialStatus),_=f.useRef(!1),M=f.useRef({});f.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var J=f.useState(0),Q=J[1],z=f.useRef({values:$(s.initialValues),errors:$(s.initialErrors)||P,touched:$(s.initialTouched)||Y,status:$(s.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),S=z.current,E=f.useCallback(function(n){var l=z.current;z.current=Qe(l,n),l!==z.current&&Q(function(d){return d+1})},[]),ce=f.useCallback(function(n,l){return new Promise(function(d,v){var p=s.validate(n,l);p==null?d(P):ae(p)?p.then(function(m){d(m||P)},function(m){v(m)}):d(p)})},[s.validate]),X=f.useCallback(function(n,l){var d=s.validationSchema,v=I(d)?d(l):d,p=l&&v.validateAt?v.validateAt(l,n):xe(n,v);return new Promise(function(m,b){p.then(function(){m(P)},function(L){L.name==="ValidationError"?m(Ze(L)):b(L)})})},[s.validationSchema]),se=f.useCallback(function(n,l){return new Promise(function(d){return d(M.current[n].validate(l))})},[]),fe=f.useCallback(function(n){var l=Object.keys(M.current).filter(function(v){return I(M.current[v].validate)}),d=l.length>0?l.map(function(v){return se(v,A(n,v))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(d).then(function(v){return v.reduce(function(p,m,b){return m==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||m&&(p=w(p,l[b],m)),p},{})})},[se]),De=f.useCallback(function(n){return Promise.all([fe(n),s.validationSchema?X(n):{},s.validate?ce(n):{}]).then(function(l){var d=l[0],v=l[1],p=l[2],m=oe.all([d,v,p],{arrayMerge:er});return m})},[s.validate,s.validationSchema,fe,ce,X]),D=O(function(n){return n===void 0&&(n=S.values),E({type:"SET_ISVALIDATING",payload:!0}),De(n).then(function(l){return _.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:l})),l})});f.useEffect(function(){o&&_.current===!0&&U(F.current,s.initialValues)&&D(F.current)},[o,D]);var G=f.useCallback(function(n){var l=n&&n.values?n.values:F.current,d=n&&n.errors?n.errors:k.current?k.current:s.initialErrors||{},v=n&&n.touched?n.touched:C.current?C.current:s.initialTouched||{},p=n&&n.status?n.status:V.current?V.current:s.initialStatus;F.current=l,k.current=d,C.current=v,V.current=p;var m=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!n&&!!n.isSubmitting,errors:d,touched:v,status:p,values:l,isValidating:!!n&&!!n.isValidating,submitCount:n&&n.submitCount&&typeof n.submitCount=="number"?n.submitCount:0}})};if(s.onReset){var b=s.onReset(S.values,Ae);ae(b)?b.then(m):m()}else m()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);f.useEffect(function(){_.current===!0&&!U(F.current,s.initialValues)&&T&&(F.current=s.initialValues,G(),o&&D(F.current))},[T,s.initialValues,G,o,D]),f.useEffect(function(){T&&_.current===!0&&!U(k.current,s.initialErrors)&&(k.current=s.initialErrors||P,E({type:"SET_ERRORS",payload:s.initialErrors||P}))},[T,s.initialErrors]),f.useEffect(function(){T&&_.current===!0&&!U(C.current,s.initialTouched)&&(C.current=s.initialTouched||Y,E({type:"SET_TOUCHED",payload:s.initialTouched||Y}))},[T,s.initialTouched]),f.useEffect(function(){T&&_.current===!0&&!U(V.current,s.initialStatus)&&(V.current=s.initialStatus,E({type:"SET_STATUS",payload:s.initialStatus}))},[T,s.initialStatus,s.initialTouched]);var de=O(function(n){if(M.current[n]&&I(M.current[n].validate)){var l=A(S.values,n),d=M.current[n].validate(l);return ae(d)?(E({type:"SET_ISVALIDATING",payload:!0}),d.then(function(v){return v}).then(function(v){E({type:"SET_FIELD_ERROR",payload:{field:n,value:v}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:n,value:d}}),Promise.resolve(d))}else if(s.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),X(S.values,n).then(function(v){return v}).then(function(v){E({type:"SET_FIELD_ERROR",payload:{field:n,value:A(v,n)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),we=f.useCallback(function(n,l){var d=l.validate;M.current[n]={validate:d}},[]),Le=f.useCallback(function(n){delete M.current[n]},[]),ve=O(function(n,l){E({type:"SET_TOUCHED",payload:n});var d=l===void 0?e:l;return d?D(S.values):Promise.resolve()}),pe=f.useCallback(function(n){E({type:"SET_ERRORS",payload:n})},[]),he=O(function(n,l){var d=I(n)?n(S.values):n;E({type:"SET_VALUES",payload:d});var v=l===void 0?u:l;return v?D(d):Promise.resolve()}),K=f.useCallback(function(n,l){E({type:"SET_FIELD_ERROR",payload:{field:n,value:l}})},[]),H=O(function(n,l,d){E({type:"SET_FIELD_VALUE",payload:{field:n,value:l}});var v=d===void 0?u:d;return v?D(w(S.values,n,l)):Promise.resolve()}),me=f.useCallback(function(n,l){var d=l,v=n,p;if(!ie(n)){n.persist&&n.persist();var m=n.target?n.target:n.currentTarget,b=m.type,L=m.name,ne=m.id,te=m.value,We=m.checked;m.outerHTML;var Fe=m.options,ze=m.multiple;d=l||L||ne,v=/number|range/.test(b)?(p=parseFloat(te),isNaN(p)?"":p):/checkbox/.test(b)?nr(A(S.values,d),We,te):Fe&&ze?rr(Fe):te}d&&H(d,v)},[H,S.values]),Z=O(function(n){if(ie(n))return function(l){return me(l,n)};me(n)}),j=O(function(n,l,d){l===void 0&&(l=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:n,value:l}});var v=d===void 0?e:d;return v?D(S.values):Promise.resolve()}),ye=f.useCallback(function(n,l){n.persist&&n.persist();var d=n.target,v=d.name,p=d.id;d.outerHTML;var m=l||v||p;j(m,!0)},[j]),x=O(function(n){if(ie(n))return function(l){return ye(l,n)};ye(n)}),Ee=f.useCallback(function(n){I(n)?E({type:"SET_FORMIK_STATE",payload:n}):E({type:"SET_FORMIK_STATE",payload:function(){return n}})},[]),Se=f.useCallback(function(n){E({type:"SET_STATUS",payload:n})},[]),Te=f.useCallback(function(n){E({type:"SET_ISSUBMITTING",payload:n})},[]),ee=O(function(){return E({type:"SUBMIT_ATTEMPT"}),D().then(function(n){var l=n instanceof Error,d=!l&&Object.keys(n).length===0;if(d){var v;try{if(v=Ne(),v===void 0)return}catch(p){throw p}return Promise.resolve(v).then(function(p){return _.current&&E({type:"SUBMIT_SUCCESS"}),p}).catch(function(p){if(_.current)throw E({type:"SUBMIT_FAILURE"}),p})}else if(_.current&&(E({type:"SUBMIT_FAILURE"}),l))throw n})}),Ue=O(function(n){n&&n.preventDefault&&I(n.preventDefault)&&n.preventDefault(),n&&n.stopPropagation&&I(n.stopPropagation)&&n.stopPropagation(),ee().catch(function(l){console.warn("Warning: An unhandled error was caught from submitForm()",l)})}),Ae={resetForm:G,validateForm:D,validateField:de,setErrors:pe,setFieldError:K,setFieldTouched:j,setFieldValue:H,setStatus:Se,setSubmitting:Te,setTouched:ve,setValues:he,setFormikState:Ee,submitForm:ee},Ne=O(function(){return R(S.values,Ae)}),Pe=O(function(n){n&&n.preventDefault&&I(n.preventDefault)&&n.preventDefault(),n&&n.stopPropagation&&I(n.stopPropagation)&&n.stopPropagation(),G()}),Be=f.useCallback(function(n){return{value:A(S.values,n),error:A(S.errors,n),touched:!!A(S.touched,n),initialValue:A(F.current,n),initialTouched:!!A(C.current,n),initialError:A(k.current,n)}},[S.errors,S.touched,S.values]),He=f.useCallback(function(n){return{setValue:function(d,v){return H(n,d,v)},setTouched:function(d,v){return j(n,d,v)},setError:function(d){return K(n,d)}}},[H,j,K]),je=f.useCallback(function(n){var l=W(n),d=l?n.name:n,v=A(S.values,d),p={name:d,value:v,onChange:Z,onBlur:x};if(l){var m=n.type,b=n.value,L=n.as,ne=n.multiple;m==="checkbox"?b===void 0?p.checked=!!v:(p.checked=!!(Array.isArray(v)&&~v.indexOf(b)),p.value=b):m==="radio"?(p.checked=v===b,p.value=b):L==="select"&&ne&&(p.value=p.value||[],p.multiple=!0)}return p},[x,Z,S.values]),re=f.useMemo(function(){return!U(F.current,S.values)},[F.current,S.values]),Ge=f.useMemo(function(){return typeof c<"u"?re?S.errors&&Object.keys(S.errors).length===0:c!==!1&&I(c)?c(s):c:S.errors&&Object.keys(S.errors).length===0},[c,re,S.errors,s]),$e=y({},S,{initialValues:F.current,initialErrors:k.current,initialTouched:C.current,initialStatus:V.current,handleBlur:x,handleChange:Z,handleReset:Pe,handleSubmit:Ue,resetForm:G,setErrors:pe,setFormikState:Ee,setFieldTouched:j,setFieldValue:H,setFieldError:K,setStatus:Se,setSubmitting:Te,setTouched:ve,setValues:he,submitForm:ee,validateForm:D,validateField:de,isValid:Ge,dirty:re,unregisterField:Le,registerField:we,getFieldProps:je,getFieldMeta:Be,getFieldHelpers:He,validateOnBlur:e,validateOnChange:u,validateOnMount:o});return $e}function mr(r){var t=Xe(r),u=r.component,a=r.children,e=r.render,i=r.innerRef;return f.useImperativeHandle(i,function(){return t}),f.createElement(Ye,{value:t},u?f.createElement(u,t):e?e(t):a?I(a)?a(t):Me(a)?null:f.Children.only(a):null)}function Ze(r){var t={};if(r.inner){if(r.inner.length===0)return w(t,r.path,r.message);for(var e=r.inner,u=Array.isArray(e),a=0,e=u?e:e[Symbol.iterator]();;){var i;if(u){if(a>=e.length)break;i=e[a++]}else{if(a=e.next(),a.done)break;i=a.value}var o=i;A(t,o.path)||(t=w(t,o.path,o.message))}}return t}function xe(r,t,u,a){u===void 0&&(u=!1);var e=le(r);return t[u?"validateSync":"validate"](e,{abortEarly:!1,context:e})}function le(r){var t=Array.isArray(r)?[]:{};for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var a=String(u);Array.isArray(r[a])===!0?t[a]=r[a].map(function(e){return Array.isArray(e)===!0||ge(e)?le(e):e!==""?e:void 0}):ge(r[a])?t[a]=le(r[a]):t[a]=r[a]!==""?r[a]:void 0}return t}function er(r,t,u){var a=r.slice();return t.forEach(function(i,o){if(typeof a[o]>"u"){var c=u.clone!==!1,h=c&&u.isMergeableObject(i);a[o]=h?oe(Array.isArray(i)?[]:{},i,u):i}else u.isMergeableObject(i)?a[o]=oe(r[o],i,u):r.indexOf(i)===-1&&a.push(i)}),a}function rr(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function nr(r,t,u){if(typeof r=="boolean")return!!t;var a=[],e=!1,i=-1;if(Array.isArray(r))a=r,i=r.indexOf(u),e=i>=0;else if(!u||u=="true"||u=="false")return!!t;return t&&u&&!e?a.concat(u):e?a.slice(0,i).concat(a.slice(i+1)):a}var tr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect;function O(r){var t=f.useRef(r);return tr(function(){t.current=r}),f.useCallback(function(){for(var u=arguments.length,a=new Array(u),e=0;e<u;e++)a[e]=arguments[e];return t.current.apply(void 0,a)},[])}function yr(r){var t=r.validate,u=r.name,a=r.render,e=r.children,i=r.as,o=r.component,c=r.className,h=N(r,["validate","name","render","children","as","component","className"]),T=Ve(),R=N(T,["validate","validationSchema"]),g=R.registerField,s=R.unregisterField;f.useEffect(function(){return g(u,{validate:t}),function(){s(u)}},[g,s,u,t]);var F=R.getFieldProps(y({name:u},h)),k=R.getFieldMeta(u),C={field:F,form:R};if(a)return a(y({},C,{meta:k}));if(I(e))return e(y({},C,{meta:k}));if(o){if(typeof o=="string"){var V=h.innerRef,_=N(h,["innerRef"]);return f.createElement(o,y({ref:V},F,_,{className:c}),e)}return f.createElement(o,y({field:F,form:R},h,{className:c}),e)}var M=i||"input";if(typeof M=="string"){var J=h.innerRef,Q=N(h,["innerRef"]);return f.createElement(M,y({ref:J},F,Q,{className:c}),e)}return f.createElement(M,y({},F,h,{className:c}),e)}var ir=f.forwardRef(function(r,t){var u=r.action,a=N(r,["action"]),e=u??"#",i=Ve(),o=i.handleReset,c=i.handleSubmit;return f.createElement("form",y({onSubmit:c,ref:t,onReset:o,action:e},a))});ir.displayName="Form";function ar(r){var t=function(e){return f.createElement(qe,null,function(i){return f.createElement(r,y({},e,{formik:i}))})},u=r.displayName||r.name||r.constructor&&r.constructor.name||"Component";return t.WrappedComponent=r,t.displayName="FormikConnect("+u+")",Ke(t,r)}var ur=function(t,u,a){var e=B(t),i=e[u];return e.splice(u,1),e.splice(a,0,i),e},or=function(t,u,a){var e=B(t),i=e[u];return e[u]=e[a],e[a]=i,e},ue=function(t,u,a){var e=B(t);return e.splice(u,0,a),e},lr=function(t,u,a){var e=B(t);return e[u]=a,e},B=function(t){if(t){if(Array.isArray(t))return[].concat(t);var u=Object.keys(t).map(function(a){return parseInt(a)}).reduce(function(a,e){return e>a?e:a},0);return Array.from(y({},t,{length:u+1}))}else return[]},Ce=function(t,u){var a=typeof t=="function"?t:u;return function(e){if(Array.isArray(e)||W(e)){var i=B(e);return a(i)}return e}},cr=function(r){ke(t,r);function t(a){var e;return e=r.call(this,a)||this,e.updateArrayField=function(i,o,c){var h=e.props,T=h.name,R=h.formik.setFormikState;R(function(g){var s=Ce(c,i),F=Ce(o,i),k=w(g.values,T,i(A(g.values,T))),C=c?s(A(g.errors,T)):void 0,V=o?F(A(g.touched,T)):void 0;return be(C)&&(C=void 0),be(V)&&(V=void 0),y({},g,{values:k,errors:c?w(g.errors,T,C):g.errors,touched:o?w(g.touched,T,V):g.touched})})},e.push=function(i){return e.updateArrayField(function(o){return[].concat(B(o),[$(i)])},!1,!1)},e.handlePush=function(i){return function(){return e.push(i)}},e.swap=function(i,o){return e.updateArrayField(function(c){return or(c,i,o)},!0,!0)},e.handleSwap=function(i,o){return function(){return e.swap(i,o)}},e.move=function(i,o){return e.updateArrayField(function(c){return ur(c,i,o)},!0,!0)},e.handleMove=function(i,o){return function(){return e.move(i,o)}},e.insert=function(i,o){return e.updateArrayField(function(c){return ue(c,i,o)},function(c){return ue(c,i,null)},function(c){return ue(c,i,null)})},e.handleInsert=function(i,o){return function(){return e.insert(i,o)}},e.replace=function(i,o){return e.updateArrayField(function(c){return lr(c,i,o)},!1,!1)},e.handleReplace=function(i,o){return function(){return e.replace(i,o)}},e.unshift=function(i){var o=-1;return e.updateArrayField(function(c){var h=c?[i].concat(c):[i];return o=h.length,h},function(c){return c?[null].concat(c):[null]},function(c){return c?[null].concat(c):[null]}),o},e.handleUnshift=function(i){return function(){return e.unshift(i)}},e.handleRemove=function(i){return function(){return e.remove(i)}},e.handlePop=function(){return function(){return e.pop()}},e.remove=e.remove.bind(Re(e)),e.pop=e.pop.bind(Re(e)),e}var u=t.prototype;return u.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!U(A(e.formik.values,e.name),A(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},u.remove=function(e){var i;return this.updateArrayField(function(o){var c=o?B(o):[];return i||(i=c[e]),I(c.splice)&&c.splice(e,1),I(c.every)&&c.every(function(h){return h===void 0})?[]:c},!0,!0),i},u.pop=function(){var e;return this.updateArrayField(function(i){var o=i.slice();return e||(e=o&&o.pop&&o.pop()),o},!0,!0),e},u.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},i=this.props,o=i.component,c=i.render,h=i.children,T=i.name,R=i.formik,g=N(R,["validate","validationSchema"]),s=y({},e,{form:g,name:T});return o?f.createElement(o,s):c?c(s):h?typeof h=="function"?h(s):Me(h)?null:f.Children.only(h):null},t}(f.Component);cr.defaultProps={validateOnChange:!0};var sr=function(r){ke(t,r);function t(){return r.apply(this,arguments)||this}var u=t.prototype;return u.shouldComponentUpdate=function(e){return A(this.props.formik.errors,this.props.name)!==A(e.formik.errors,this.props.name)||A(this.props.formik.touched,this.props.name)!==A(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},u.render=function(){var e=this.props,i=e.component,o=e.formik,c=e.render,h=e.children,T=e.name,R=N(e,["component","formik","render","children","name"]),g=A(o.touched,T),s=A(o.errors,T);return g&&s?c?I(c)?c(s):null:h?I(h)?h(s):null:i?f.createElement(i,R,s):s:null},t}(f.Component),Er=ar(sr);export{Er as E,yr as F,mr as a,ir as b,Xe as u};
