import{i,h as s}from"./index-CbhZY4ci.js";const p=e=>({uuid:e.id,name:e.name,phone:e.phone,licenseType:e.licenseType,status:e.status,onDuty:e.onDuty,userId:e.userId??null,currentVehicleId:e.currentVehicleId??null,currentVehiclePlateNo:e.currentVehiclePlateNo??null,remark:e.remark,createdTime:e.createdTime,updatedTime:e.updatedTime}),I=[{id:"d-001",name:"張三",phone:"0912-345-678",licenseType:"LARGE",status:"ACTIVE",onDuty:!0,userId:"u-001",currentVehicleId:"v-002",currentVehiclePlateNo:"XYZ-5678",remark:"資深司機，專長長途運輸",createdTime:"2024-01-10T08:00:00Z",updatedTime:"2024-01-10T08:00:00Z"},{id:"d-002",name:"李四",phone:"0923-456-789",licenseType:"MEDIUM",status:"ACTIVE",onDuty:!0,userId:"u-002",currentVehicleId:"v-004",currentVehiclePlateNo:"GHI-3456",remark:"冷凍車專長",createdTime:"2024-01-15T09:00:00Z",updatedTime:"2024-01-15T09:00:00Z"},{id:"d-003",name:"王五",phone:"0934-567-890",licenseType:"LARGE",status:"ACTIVE",onDuty:!1,userId:"u-003",currentVehicleId:"v-008",currentVehiclePlateNo:"STU-9753",remark:"大型車輛駕駛",createdTime:"2024-02-01T10:00:00Z",updatedTime:"2024-02-01T10:00:00Z"},{id:"d-004",name:"趙六",phone:"0945-678-901",licenseType:"SMALL",status:"ACTIVE",onDuty:!0,userId:null,currentVehicleId:null,currentVehiclePlateNo:null,remark:"市區配送專長",createdTime:"2024-02-10T11:00:00Z",updatedTime:"2024-02-10T11:00:00Z"},{id:"d-005",name:"錢七",phone:"0956-789-012",licenseType:"TRAILER",status:"ACTIVE",onDuty:!1,userId:"u-005",currentVehicleId:null,currentVehiclePlateNo:null,remark:"板車專長",createdTime:"2024-01-20T12:00:00Z",updatedTime:"2024-01-20T12:00:00Z"},{id:"d-006",name:"孫八",phone:"0967-890-123",licenseType:"MEDIUM",status:"INACTIVE",onDuty:!1,userId:null,currentVehicleId:null,currentVehiclePlateNo:null,remark:"目前休假中",createdTime:"2023-12-01T08:00:00Z",updatedTime:"2024-03-01T08:00:00Z"},{id:"d-007",name:"周九",phone:"0978-901-234",licenseType:"LARGE",status:"ACTIVE",onDuty:!0,userId:"u-007",currentVehicleId:null,currentVehiclePlateNo:null,remark:"待指派車輛",createdTime:"2024-02-15T13:00:00Z",updatedTime:"2024-02-15T13:00:00Z"},{id:"d-008",name:"吳十",phone:"0989-012-345",licenseType:"SMALL",status:"LEAVE",onDuty:!1,userId:null,currentVehicleId:null,currentVehiclePlateNo:null,remark:"請假中",createdTime:"2024-01-05T14:00:00Z",updatedTime:"2024-01-05T14:00:00Z"}];async function f(e,n){if(i())return console.log("[Mock] 模擬建立司機",e),await new Promise(t=>setTimeout(t,500)),n==null||n("新增司機成功 (Mock)","success"),!0;try{const t=await s.post("/api/fms/drivers",e);return console.log("[createDriver] response:",t.data.data),n==null||n("新增司機成功","success"),!0}catch(t){return console.error(t),n==null||n("新增司機失敗，請稍後再試","danger"),!1}}async function y(e,n){var t;if(i()){console.log("[Mock] 使用 Mock 司機列表",e),await new Promise(c=>setTimeout(c,300));let a=[...I];if((t=e.keyword)!=null&&t.trim()){const c=e.keyword.toLowerCase();a=a.filter(d=>{var o;return d.name.toLowerCase().includes(c)||d.phone.toLowerCase().includes(c)||((o=d.remark)==null?void 0:o.toLowerCase().includes(c))})}const r=e.page||0,u=e.size||10,l=r*u,m=l+u,T=a.slice(l,m);return{content:T.map(p),totalElements:a.length,totalPages:Math.ceil(a.length/u),size:u,number:r,first:r===0,last:m>=a.length,empty:T.length===0}}try{const r=(await s.get("/api/fms/drivers",{params:e})).data.data;return{...r,content:(r.content||[]).map(p)}}catch(a){return console.error(a),n==null||n("取得司機列表失敗，請稍後再試","danger"),{content:[],totalElements:0,totalPages:0,size:e.size,number:e.page,first:!0,last:!0,empty:!0}}}async function k(e,n,t){if(i())return console.log("[Mock] 模擬更新司機",e,n),await new Promise(a=>setTimeout(a,500)),t==null||t("更新司機成功 (Mock)","success"),!0;try{return await s.put(`/api/fms/drivers/${e}`,n),t==null||t("更新司機成功","success"),!0}catch(a){return console.error(a),t==null||t("更新司機失敗，請稍後再試","danger"),!1}}async function g(e,n){if(i())return console.log("[Mock] 模擬刪除司機",e),await new Promise(t=>setTimeout(t,500)),n==null||n("刪除司機成功 (Mock)","success"),!0;try{return await s.delete(`/api/fms/drivers/${e}`),n==null||n("刪除司機成功","success"),!0}catch(t){return console.error(t),n==null||n("刪除司機失敗，請稍後再試","danger"),!1}}export{f as c,g as d,y as f,k as u};
