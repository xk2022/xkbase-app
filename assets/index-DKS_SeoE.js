import{r as n,j as e}from"./react-DwkAs-v9.js";import{e as _,s as ee,C as M,K as y,P as K}from"./index-wbzsHQ-6.js";import{A as D}from"./AppToolbar-BZHSVYI7.js";import{f as z,M as se,d as V,u as W,c as H,a as Y}from"./Query-B24ykavS.js";import{a as T,g as G,d as ae,e as R,f as te}from"./react-router-Df4HDh8c.js";import{C as le}from"./ConfirmDeleteModal-BXGAXcew.js";import{P as ce}from"./PagedTable-fW2f3xMh.js";import{u as O,t as I,C as ne,a as B}from"./formUtils-DYBw-NTu.js";import{u as re}from"./useFormMeta-CziDqAIO.js";import{S as Q}from"./react-bootstrap-BUaeuJHt.js";import{f as ie}from"./Query-DNtB1onu.js";import"./apexcharts-sziEC8OT.js";import"./react-dom-DVTd-Q6a.js";import"./scheduler-CylivXx-.js";import"./axios-mH-cpkvd.js";import"./formik-B67XZPDW.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-ClCkCI8n.js";import"./react-fast-compare-0sFLRPh9.js";import"./hoist-non-react-statics-C-8QU_9G.js";import"./react-is-8JwjhRSi.js";import"./yup-BLKqc-jj.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-7gDswQQa.js";import"./clsx-B-dksMZM.js";import"./react-router-dom-BJfVfmV5.js";import"./@remix-run-DUdlTjFu.js";import"./chart.js-xWmoy_ii.js";import"./@kurkle-D8fDXNIl.js";import"./@tanstack-BGZqBxWN.js";import"./react-copy-to-clipboard-C4AWj7CK.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./prism-react-renderer-BV8xJdsO.js";import"./react-select-Z1ywkuii.js";import"./@babel-B036hIWL.js";import"./@emotion-Cdt29Dgm.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-DZ2V_EUC.js";import"./use-isomorphic-layout-effect-CgCMJW-V.js";import"./memoize-one-DxrTgWdQ.js";import"./@popperjs-D8Kg5PqX.js";import"./react-topbar-progress-indicator-BI-R5WY2.js";import"./topbar-C3UDlew2.js";import"./bootstrap-D7dJWYZj.js";import"./classnames-Bztn78Bv.js";import"./dom-helpers-C9Bu-4wA.js";import"./@restart-rvtB3BAN.js";import"./dequal-tFQomdd2.js";import"./warning-DaFg7xBm.js";import"./prop-types-smO-eibg.js";import"./uncontrollable-C0VNg-tm.js";import"./react-transition-group-DSbRRiC3.js";const de=()=>{const a=T(),{alert:j,showAlert:m,Alert:l}=_(),[x,p]=n.useState(!0),[h,i]=n.useState([]),b=n.useCallback(async()=>{p(!0);try{const s=await z({page:0,size:1e3},m);i(s.content||[])}catch(s){console.error(s),m("載入角色資料失敗","danger")}finally{p(!1)}},[m]);n.useEffect(()=>{b()},[b]);const c=n.useMemo(()=>{const s=h.length,t=h.filter(v=>v.enabled).length,o=s-t,g=h.reduce((v,w)=>{var S;return v+(w.permissionCount??((S=w.permissionCodes)==null?void 0:S.length)??0)},0),k=s>0?Math.round(g/s):0;return{total:s,enabled:t,disabled:o,totalPermissions:g,avgPermissions:k}},[h]),u=n.useMemo(()=>ee()?h.map(t=>{const o=se.find(g=>g.id===t.id);return{...t,createdTime:o==null?void 0:o.createdTime}}).sort((t,o)=>!t.createdTime&&!o.createdTime?0:t.createdTime?o.createdTime?new Date(o.createdTime).getTime()-new Date(t.createdTime).getTime():-1:1).slice(0,5):[...h].sort((s,t)=>t.id.localeCompare(s.id)).slice(0,5),[h]),N=n.useMemo(()=>{const s={0:0,"1-5":0,"6-10":0,"11-20":0,"21+":0};return h.forEach(t=>{var g;const o=t.permissionCount??((g=t.permissionCodes)==null?void 0:g.length)??0;o===0?s[0]++:o<=5?s["1-5"]++:o<=10?s["6-10"]++:o<=20?s["11-20"]++:s["21+"]++}),s},[h]);return e.jsxs(M,{children:[j&&e.jsx(l,{message:j.message,type:j.type}),e.jsx(D,{title:"角色總覽",breadcrumbs:[{label:"權限管理",href:"#"},{label:"角色",active:!0}]}),e.jsx("div",{className:"app-container container-fluid",children:x?e.jsx("div",{className:"d-flex justify-content-center py-10",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"載入中..."})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row g-5 g-xl-8 mb-5",children:[e.jsx("div",{className:"col-12 col-sm-6 col-xl-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("span",{className:"text-muted fw-semibold fs-7",children:"角色總數"}),e.jsx("span",{className:"fw-bold fs-2 text-gray-900 mt-1",children:c.total})]}),e.jsx("span",{className:"badge badge-light-primary p-3",children:e.jsx(y,{iconName:"people",className:"fs-2"})})]}),e.jsx("div",{className:"separator my-4"}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"text-muted fs-8",children:"啟用"}),e.jsx("span",{className:"fw-bold text-gray-800",children:c.enabled})]})]})})}),e.jsx("div",{className:"col-12 col-sm-6 col-xl-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("span",{className:"text-muted fw-semibold fs-7",children:"啟用角色"}),e.jsx("span",{className:"fw-bold fs-2 text-gray-900 mt-1",children:c.enabled})]}),e.jsx("span",{className:"badge badge-light-success p-3",children:e.jsx(y,{iconName:"check-circle",className:"fs-2"})})]}),e.jsx("div",{className:"separator my-4"}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"text-muted fs-8",children:"停用"}),e.jsx("span",{className:"fw-bold text-gray-800",children:c.disabled})]})]})})}),e.jsx("div",{className:"col-12 col-sm-6 col-xl-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("span",{className:"text-muted fw-semibold fs-7",children:"總權限數"}),e.jsx("span",{className:"fw-bold fs-2 text-gray-900 mt-1",children:c.totalPermissions})]}),e.jsx("span",{className:"badge badge-light-info p-3",children:e.jsx(y,{iconName:"shield-tick",className:"fs-2"})})]}),e.jsx("div",{className:"separator my-4"}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"text-muted fs-8",children:"平均"}),e.jsxs("span",{className:"fw-bold text-gray-800",children:[c.avgPermissions," 個/角色"]})]})]})})}),e.jsx("div",{className:"col-12 col-sm-6 col-xl-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("span",{className:"text-muted fw-semibold fs-7",children:"平均權限數"}),e.jsx("span",{className:"fw-bold fs-2 text-gray-900 mt-1",children:c.avgPermissions})]}),e.jsx("span",{className:"badge badge-light-warning p-3",children:e.jsx(y,{iconName:"chart-simple",className:"fs-2"})})]}),e.jsx("div",{className:"separator my-4"}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[e.jsx("span",{className:"text-muted fs-8",children:"總計"}),e.jsxs("span",{className:"fw-bold text-gray-800",children:[c.totalPermissions," 個"]})]})]})})})]}),e.jsxs("div",{className:"row g-5 g-xl-8",children:[e.jsx("div",{className:"col-12 col-xl-6",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"權限數量分布"}),e.jsx("span",{className:"text-muted mt-1 fw-semibold fs-7",children:"各角色擁有的權限數量統計"})]})}),e.jsx("div",{className:"card-body pt-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-150px",children:"權限數量範圍"}),e.jsx("th",{className:"min-w-100px text-end",children:"角色數量"}),e.jsx("th",{className:"min-w-150px",children:"比例"})]})}),e.jsx("tbody",{children:Object.entries(N).map(([s,t])=>{const o=c.total>0?Math.round(t/c.total*100):0;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"text-gray-800 fw-bold",children:s==="0"?"無權限":s==="21+"?"21 個以上":`${s} 個`})}),e.jsx("td",{className:"text-end",children:e.jsx("span",{className:"fw-bold text-gray-900",children:t})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"progress w-100 me-3",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:`${o}%`},"aria-valuenow":o,"aria-valuemin":0,"aria-valuemax":100})}),e.jsxs("span",{className:"text-muted fs-7 fw-bold min-w-50px text-end",children:[o,"%"]})]})})]},s)})})]})})})]})}),e.jsx("div",{className:"col-12 col-xl-6",children:e.jsxs("div",{className:"card h-100",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"最近建立的角色"}),e.jsx("span",{className:"text-muted mt-1 fw-semibold fs-7",children:"最近建立的 5 個角色"})]}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:()=>a("/upms/role/list"),children:["查看全部",e.jsx(y,{iconName:"arrow-right",className:"fs-4 ms-1"})]})})]}),e.jsx("div",{className:"card-body pt-0",children:u.length===0?e.jsxs("div",{className:"text-center py-10 text-muted",children:[e.jsx(y,{iconName:"information-5",className:"fs-2x text-muted mb-3"}),e.jsx("p",{className:"mb-0",children:"尚無角色資料"})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-150px",children:"角色代碼"}),e.jsx("th",{className:"min-w-150px",children:"角色名稱"}),e.jsx("th",{className:"min-w-100px",children:"權限數"}),e.jsx("th",{className:"min-w-100px",children:"狀態"}),e.jsx("th",{className:"min-w-100px text-end",children:"操作"})]})}),e.jsx("tbody",{children:u.map(s=>{var t;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"badge badge-light-info fs-7 fw-bold",children:s.code})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-800 fw-bold",children:s.name})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-light-primary",children:s.permissionCount??((t=s.permissionCodes)==null?void 0:t.length)??0})}),e.jsx("td",{children:s.enabled?e.jsx("span",{className:"badge badge-light-success",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary",children:"停用"})}),e.jsx("td",{className:"text-end",children:e.jsx("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:()=>a(`/upms/role/${s.id}/detail`),children:"詳情"})})]},s.id)})})]})})})]})})]}),e.jsx("div",{className:"row g-5 g-xl-8 mt-1",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsx("h3",{className:"card-title align-items-start flex-column",children:e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"快速操作"})})}),e.jsx("div",{className:"card-body pt-0",children:e.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>a("/upms/role/create"),children:[e.jsx(y,{iconName:"plus",className:"fs-2 me-2"}),"新增角色"]}),e.jsxs("button",{type:"button",className:"btn btn-light-primary",onClick:()=>a("/upms/role/list"),children:[e.jsx(y,{iconName:"list",className:"fs-2 me-2"}),"查看所有角色"]})]})})]})})})]})})]})};function oe(a){const{keyword:j,pageSize:m=10,fetcher:l,refreshKey:x,resetPageOnKeywordChange:p=!0}=a,[h,i]=n.useState([]),[b,c]=n.useState(0),[u,N]=n.useState(1),[s,t]=n.useState(1),[o,g]=n.useState(!1),k=n.useRef(0),v=n.useMemo(()=>{const f=j==null?void 0:j.trim();return f||void 0},[j]),w=n.useCallback(()=>({page:Math.max(0,s-1),size:m,keyword:v}),[s,m,v]),S=n.useCallback(async()=>{const f=++k.current;g(!0);try{const A=w(),$=await l(A);if(f!==k.current)return;i($.content||[]),c($.totalElements??0),N($.totalPages||1)}finally{f===k.current&&g(!1)}},[w,l]);n.useEffect(()=>{p&&t(1)},[v,p]),n.useEffect(()=>{S()},[s,v,x]);const r=n.useMemo(()=>({page:s,totalPages:u,totalElements:b,setPage:t,prev:()=>t(f=>Math.max(1,f-1)),next:()=>t(f=>Math.min(u||1,f+1))}),[s,u,b]);return{rows:h,totalElements:b,totalPages:u,page:s,setPage:t,loading:o,reload:S,pagination:r}}const me=10,xe=a=>a?e.jsx("span",{className:"badge badge-light-success fw-bolder",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary fw-bolder",children:"停用"}),he=({searchKeyword:a,showAlert:j,onEdit:m,onReload:l})=>{const x=T(),{rows:p,loading:h,page:i,totalPages:b,totalElements:c,setPage:u,reload:N}=oe({keyword:a,pageSize:me,fetcher:r=>z(r,j)}),[s,t]=n.useState(null),[o,g]=n.useState(!1),k=r=>t(r),v=async()=>{if(!s)return;const r=s.id;if(!r){j("缺少角色識別碼，無法刪除","danger");return}try{g(!0),await V(String(r),j)&&(await N(),l==null||l(),t(null))}finally{g(!1)}},w=[{header:"角色代碼",className:"min-w-140px"},{header:"角色名稱",className:"min-w-180px"},{header:"描述",className:"min-w-220px"},{header:"狀態",className:"min-w-100px"},{header:"權限數",className:"min-w-100px"},{header:"操作",className:"text-end min-w-100px"}],S=r=>{x(`/upms/role/${r.id}/detail`)};return e.jsxs(e.Fragment,{children:[e.jsx(ce,{columns:w,rows:p,loading:h,emptyText:"沒有角色資料",page:i,totalPages:b,totalElements:c,onPrev:()=>u(r=>Math.max(1,r-1)),onNext:()=>u(r=>Math.min(b||1,r+1)),tableClassName:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer",getRowKey:r=>r.id,renderRow:r=>e.jsxs("tr",{className:"cursor-pointer table-row-hover text-gray-600 fw-bold",onClick:()=>S(r),children:[e.jsx("td",{className:"fw-bold text-gray-900",children:r.code}),e.jsx("td",{children:r.name}),e.jsx("td",{className:"text-muted",children:r.description??"-"}),e.jsx("td",{children:xe(r.enabled)}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-light-primary fs-6 fw-bold",children:r.permissionCount??0})}),e.jsx("td",{className:"text-end",onClick:f=>f.stopPropagation(),children:e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx("button",{className:"btn btn-light-primary btn-sm",onClick:f=>{f.preventDefault(),f.stopPropagation(),S(r)},title:"查看詳情",children:e.jsx(y,{iconName:"eye",className:"fs-2"})}),e.jsx("button",{className:"btn btn-light-warning btn-sm",onClick:f=>{f.preventDefault(),f.stopPropagation(),m(r)},title:"編輯",children:e.jsx(y,{iconName:"message-edit",className:"fs-2"})}),e.jsx("button",{className:"btn btn-light-danger btn-sm",onClick:f=>{f.preventDefault(),f.stopPropagation(),k(r)},title:"刪除",children:e.jsx(y,{iconName:"trash",className:"fs-2"})})]})})]},r.id)}),s&&e.jsx(le,{open:!!s,title:"刪除角色",deleting:o,message:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["確定要刪除角色 ",e.jsxs("strong",{children:[s.name," (",s.code,")"]})," 嗎？"]}),e.jsx("p",{className:"text-muted mb-0",children:"此操作無法復原，請再次確認。"})]}),onClose:()=>o?null:t(null),onConfirm:v})]})},je=({open:a,onClose:j,showAlert:m,onSaved:l,editingRole:x})=>{const[p,h]=n.useState(""),[i,b]=n.useState(""),[c,u]=n.useState(""),[N,s]=n.useState(!0),[t,o]=n.useState(""),[g,k]=n.useState(!1),v=!!x;if(n.useEffect(()=>{if(!x){h(""),b(""),u(""),s(!0),o("");return}h(x.code),b(x.name),u(x.description??""),s(x.enabled),o(x.permissionCodes&&x.permissionCodes.length>0?x.permissionCodes.join(", "):"")},[x]),!a)return null;const w=()=>t.split(",").map(r=>r.trim()).filter(Boolean),S=async()=>{if(!i.trim()){m("請輸入角色名稱","warning");return}if(!v&&!p.trim()){m("請輸入角色代碼","warning");return}try{k(!0);const r=w();if(v&&x){const f={name:i.trim(),description:c.trim()||void 0,enabled:N,permissionCodes:r};await W(x.id,f,m)&&l()}else{const f={code:p.trim(),name:i.trim(),description:c.trim()||void 0,enabled:N,permissionCodes:r};await H(f,m)&&l()}}finally{k(!1)}};return e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,.25)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx(y,{iconName:v?"message-edit":"plus",className:"fs-2 me-2"}),v?"編輯角色":"新增角色"]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-light",onClick:j,disabled:g,children:"×"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row g-5",children:[e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"角色代碼（code）"}),e.jsx("input",{className:"form-control",value:p,onChange:r=>h(r.target.value),placeholder:"如：ADMIN, DRIVER, DISPATCH",disabled:v}),v&&e.jsx("div",{className:"form-text",children:"角色代碼建立後不可修改，如需調整請新建角色。"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"角色名稱（name）"}),e.jsx("input",{className:"form-control",value:i,onChange:r=>b(r.target.value),placeholder:"如：系統管理員、調度人員"})]}),e.jsxs("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"roleEnabledSwitch",checked:N,onChange:r=>s(r.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"roleEnabledSwitch",children:"啟用"})]})]}),e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"角色描述"}),e.jsx("textarea",{className:"form-control",rows:3,value:c,onChange:r=>u(r.target.value),placeholder:"可描述此角色主要負責哪些操作、權限邊界等說明"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"權限代碼（以逗號分隔）"}),e.jsx("textarea",{className:"form-control",rows:3,value:t,onChange:r=>o(r.target.value),placeholder:"如：UPMS_USER_READ, UPMS_USER_WRITE, FMS_VEHICLE_READ"}),e.jsxs("div",{className:"form-text",children:["多個權限代碼請用逗號分隔。",e.jsx("br",{}),"目前只是「字串代碼」，實際對應的 Permission 資源由後端維護。"]})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-light",onClick:j,disabled:g,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:S,disabled:g,children:g?"儲存中…":"儲存"})]})]})})})};function pe(){const{alert:a,showAlert:j,Alert:m}=_(),l=T(),[x,p]=n.useState(""),[h,i]=n.useState(""),[b,c]=n.useState(0),[u,N]=n.useState(!1),[s,t]=n.useState(null),o=w=>{w.key==="Enter"&&p(h.trim())},g=()=>{c(w=>w+1),N(!1),t(null)},k=()=>{l("/upms/role/create")},v=w=>{t(w),N(!0)};return n.useEffect(()=>{},[]),e.jsxs(M,{children:[a&&e.jsx(m,{message:a.message,type:a.type}),e.jsx(D,{title:"角色列表",breadcrumbs:[{label:"權限管理",href:"#"},{label:"角色",active:!0}]}),e.jsx("div",{className:"flex-column-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(y,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text",className:"form-control form-control-solid w-250px ps-14",placeholder:"搜尋角色...",value:h,onChange:w=>i(w.target.value),onKeyDown:o})]})}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:k,children:[e.jsx(y,{iconName:"plus",className:"fs-2"}),"新增角色"]})})]}),e.jsx("div",{className:"card-body py-4",children:e.jsx(he,{searchKeyword:x,showAlert:j,onEdit:v},b)})]})}),e.jsx(je,{open:u,onClose:()=>{N(!1),t(null)},showAlert:j,editingRole:s,onSaved:g})]})}const be=({submitting:a=!1,onSubmit:j,onCancel:m})=>{const[l,x]=n.useState({code:"",name:"",description:"",enabled:!0,permissionCodes:""}),{touch:p,markSubmitted:h,showError:i,invalidClass:b}=re(),c=n.useMemo(()=>{const s={},t=O(l.code),o=I(l.name);return t?ne.test(t)||(s.code="格式不正確（2~50，英數 + _-，需以英數開頭）"):s.code="角色代碼為必填",o?o.length>100&&(s.name="角色名稱長度不可超過 100"):s.name="角色名稱為必填",l.description&&I(l.description).length>500&&(s.description="說明長度不可超過 500"),l.permissionCodes&&I(l.permissionCodes).length>2e3&&(s.permissionCodes="權限代碼字串過長"),s},[l]),u=s=>t=>x(o=>({...o,[s]:t.target.value})),N=async s=>{s.preventDefault(),h(),!Object.keys(c).length&&await j({code:O(l.code),name:I(l.name),description:B(l.description),enabled:!!l.enabled,permissionCodes:B(l.permissionCodes)})};return e.jsxs("form",{onSubmit:N,className:"form",children:[e.jsxs("div",{className:"row g-6",children:[e.jsxs("div",{className:"col-12 col-lg-6 d-flex flex-column gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label fw-bold",children:["角色代碼 ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:`form-control form-control-solid ${b("code",c)}`,placeholder:"例如：SYS_ADMIN / DRIVER",value:l.code,onChange:s=>x(t=>({...t,code:s.target.value.toUpperCase()})),onBlur:p("code"),disabled:a}),i("code",c)&&e.jsx("div",{className:"invalid-feedback",children:c.code}),e.jsx("div",{className:"form-text text-muted",children:"建議使用全大寫英數與底線（例如 SYS_ADMIN）"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label fw-bold",children:["角色名稱 ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{className:`form-control form-control-solid ${b("name",c)}`,placeholder:"例如：系統管理員 / 司機",value:l.name,onChange:u("name"),onBlur:p("name"),disabled:a}),i("name",c)&&e.jsx("div",{className:"invalid-feedback",children:c.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label fw-bold",children:"說明"}),e.jsx("textarea",{className:`form-control form-control-solid ${b("description",c)}`,placeholder:"可填寫此角色的權限範圍、使用場景…",rows:3,value:l.description??"",onChange:u("description"),onBlur:p("description"),disabled:a}),i("description",c)&&e.jsx("div",{className:"invalid-feedback d-block",children:c.description})]}),e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",checked:!!l.enabled,onChange:s=>x(t=>({...t,enabled:s.target.checked})),disabled:a}),e.jsx("label",{className:"form-check-label",children:"啟用"})]}),e.jsx("div",{className:"text-muted fs-8 mt-1",children:"停用後通常不會被指派或不顯示於下拉選單"})]}),e.jsxs("div",{className:"col-12 col-lg-6",children:[e.jsx("label",{className:"form-label fw-bold",children:"權限代碼"}),e.jsx("textarea",{className:`form-control form-control-solid ${b("permissionCodes",c)}`,rows:10,placeholder:"以逗號分隔多個權限代碼，例如：UPMS_USER_VIEW, UPMS_USER_CREATE",value:l.permissionCodes??"",onChange:u("permissionCodes"),onBlur:p("permissionCodes"),disabled:a}),i("permissionCodes",c)&&e.jsx("div",{className:"invalid-feedback d-block",children:c.permissionCodes}),e.jsx("div",{className:"form-text text-muted",children:"目前使用逗號分隔字串；未來可升級為多選清單或權限樹"})]})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-3 mt-10",children:[m&&e.jsx("button",{type:"button",className:"btn btn-light",onClick:m,disabled:a,children:"取消"}),e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:a,children:[e.jsx(y,{iconName:"plus",className:"fs-2 me-2"}),"新增角色"]})]})]})},fe=a=>a!=null&&a.trim()?a.trim():void 0,ue=a=>a!=null&&a.trim()?a.trim().toUpperCase():"",Ne=a=>{const j=a==null?void 0:a.trim();if(!j)return;const m=j.split(",").map(l=>l.trim()).filter(Boolean);return m.length?m:void 0},ge=a=>({code:ue(a.code),name:a.name.trim(),enabled:a.enabled??!0,description:fe(a.description),permissionCodes:Ne(a.permissionCodes)}),ve=()=>{const a=T(),{alert:j,showAlert:m,Alert:l}=_(),[x,p]=n.useState(!1),h=n.useCallback(()=>{a(-1)},[a]),i=n.useCallback(async b=>{p(!0);try{if(await H(ge(b),m)){a("/upms/role/list");return}}catch(c){console.error(c),m("系統發生錯誤，請稍後再試","danger")}finally{p(!1)}},[a,m]);return e.jsxs(M,{children:[j&&e.jsx(l,{message:j.message,type:j.type}),e.jsx(D,{title:"新增角色",breadcrumbs:[{label:"UPMS 權限管理",href:"#",active:!1},{label:"角色",active:!1},{label:"新增",active:!0}]}),e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx(be,{submitting:x,onSubmit:i,onCancel:h})})})})]})},q=a=>a==null||a===""?"-":String(a),ye=({detail:a,reload:j,showAlert:m,onEdit:l,onDelete:x})=>{var p;return e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header align-items-center",children:[e.jsx("div",{className:"card-title m-0",children:e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(y,{iconName:"information-4",className:"fs-2"}),e.jsx("h3",{className:"fw-bold m-0",children:"基本資訊"})]})}),e.jsxs("div",{className:"card-toolbar d-flex align-items-center gap-2",children:[a.enabled?e.jsx("span",{className:"badge badge-light-success",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary",children:"停用"}),l&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:l,children:[e.jsx(y,{iconName:"pencil",className:"fs-3 me-1"}),"編輯"]}),x&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-danger",onClick:x,children:[e.jsx(y,{iconName:"trash",className:"fs-3 me-1"}),"刪除"]})]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsx("table",{className:"table table-row-dashed table-row-gray-200 align-middle gs-0 gy-3",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"角色代碼"}),e.jsxs("td",{className:"fw-semibold",children:[e.jsx("span",{className:"badge badge-light text-gray-800",children:q(a.code)}),e.jsx("span",{className:"text-muted fs-8 ms-3",children:"（建立後不可修改）"})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"角色名稱"}),e.jsx("td",{className:"fw-semibold",children:q(a.name)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"描述"}),e.jsx("td",{className:"fw-semibold",children:a.description?e.jsx("span",{children:a.description}):e.jsx("span",{className:"text-muted",children:"無描述"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"狀態"}),e.jsx("td",{className:"fw-semibold",children:a.enabled?e.jsx("span",{className:"badge badge-light-success",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary",children:"停用"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"權限數量"}),e.jsx("td",{className:"fw-semibold",children:e.jsxs("span",{className:"badge badge-light-primary",children:[a.permissionCount??((p=a.permissionCodes)==null?void 0:p.length)??0," 個權限"]})})]})]})})})})]})},we=({detail:a,showAlert:j})=>{const m=T(),l=a.permissionCodes??[],x=()=>{m(`/upms/role/${a.id}/permissions`)};return e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"權限列表"}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-light-primary",onClick:x,children:[e.jsx(y,{iconName:"setting-2",className:"fs-3 me-1"}),"設定權限"]})})]}),e.jsx("div",{className:"card-body",children:l.length>0?e.jsx("div",{className:"d-flex flex-wrap gap-2",children:l.map((p,h)=>e.jsx("span",{className:"badge badge-light-info",children:p},`${p}-${h}`))}):e.jsx("span",{className:"text-muted",children:"尚無權限"})})]})},Ce=()=>{const{id:a}=G(),j=T(),{alert:m,showAlert:l,Alert:x}=_(),[p,h]=n.useState(!0),[i,b]=n.useState(null),c=n.useCallback(async()=>{if(a){h(!0);try{const s=await Y(a,l);b(s)}catch(s){console.error(s),l("取得角色詳情失敗","danger"),b(null)}finally{h(!1)}}},[a,l]);n.useEffect(()=>{c()},[c]);const u=()=>{i&&j("/upms/role/list",{state:{editRoleId:i.id}})},N=async()=>{if(!i||!a)return;if(window.confirm(`確定要刪除角色「${i.name} (${i.code})」嗎？

此操作無法復原。`))try{await V(a,l)&&j("/upms/role/list")}catch(t){console.error(t)}};return e.jsxs(M,{children:[m&&e.jsx(x,{message:m.message,type:m.type}),e.jsx(D,{title:"角色詳情",breadcrumbs:[{label:"權限管理",href:"#"},{label:"角色",active:!1},{label:"詳情",active:!0}]}),e.jsx("div",{className:"app-container container-fluid",children:p?e.jsx("div",{className:"d-flex justify-content-center py-10",children:e.jsx(Q,{animation:"border"})}):i?e.jsxs("div",{className:"row g-6",children:[e.jsx("div",{className:"col-12 col-lg-6",children:e.jsx(ye,{detail:i,reload:c,showAlert:l,onEdit:u,onDelete:N})}),e.jsx("div",{className:"col-12 col-lg-6",children:e.jsx(we,{detail:i,showAlert:l})})]}):e.jsx("div",{className:"text-center py-10 text-muted",children:"查無角色資料"})})]})},ke=({groupedPermissions:a,selectedPermissions:j,stats:m,onToggle:l,onToggleAll:x})=>{const p=Object.keys(a).sort();return e.jsxs("div",{className:"card mb-5",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"權限列表"}),e.jsx("span",{className:"text-muted mt-1 fw-semibold fs-7",children:"勾選要授予此角色的權限"})]})}),e.jsx("div",{className:"card-body pt-0",children:p.length===0?e.jsxs("div",{className:"text-center py-10 text-muted",children:[e.jsx(y,{iconName:"lock",className:"fs-2x text-muted mb-3"}),e.jsx("p",{className:"mb-0",children:"目前沒有可用的權限"})]}):e.jsx("div",{className:"accordion accordion-icon-toggle",id:"permissionAccordion",children:p.map((h,i)=>{const b=a[h],c=m.bySystem[h],u=c.selected===c.total&&c.total>0,N=c.selected>0&&c.selected<c.total;return e.jsxs("div",{className:"accordion-item mb-3",children:[e.jsx("h2",{className:"accordion-header",id:`heading-${i}`,children:e.jsx("button",{className:`accordion-button ${i===0?"":"collapsed"}`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${i}`,"aria-expanded":i===0?"true":"false","aria-controls":`collapse-${i}`,children:e.jsxs("div",{className:"d-flex align-items-center justify-content-between w-100 me-3",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(y,{iconName:"element-11",className:"fs-2 text-primary"}),e.jsx("span",{className:"fw-bold fs-5",children:h})]}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs("span",{className:"text-muted fs-7",children:["已選 ",c.selected," / ",c.total]}),e.jsx("div",{className:"form-check form-switch",children:e.jsx("input",{className:"form-check-input",type:"checkbox",checked:u,ref:s=>{s&&(s.indeterminate=N)},onChange:s=>{s.stopPropagation(),x(b.map(t=>t.code))},onClick:s=>s.stopPropagation()})})]})]})})}),e.jsx("div",{id:`collapse-${i}`,className:`accordion-collapse collapse ${i===0?"show":""}`,"aria-labelledby":`heading-${i}`,"data-bs-parent":"#permissionAccordion",children:e.jsx("div",{className:"accordion-body pt-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-50px w-50px",children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:e.jsx("input",{className:"form-check-input",type:"checkbox",checked:u,onChange:()=>x(b.map(s=>s.code))})})}),e.jsx("th",{className:"min-w-200px",children:"權限代碼"}),e.jsx("th",{className:"min-w-200px",children:"權限名稱"}),e.jsx("th",{className:"min-w-150px",children:"資源"}),e.jsx("th",{className:"min-w-150px",children:"操作"}),e.jsx("th",{className:"min-w-100px",children:"狀態"})]})}),e.jsx("tbody",{children:b.map(s=>{const t=j.has(s.code);return e.jsxs("tr",{className:t?"table-active":"",children:[e.jsx("td",{children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid",children:e.jsx("input",{className:"form-check-input",type:"checkbox",checked:t,onChange:()=>l(s.code)})})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-light-info fs-7 fw-bold",children:s.code})}),e.jsxs("td",{children:[e.jsx("span",{className:"text-gray-800 fw-bold",children:s.name}),s.description&&e.jsx("div",{className:"text-muted fs-7",children:s.description})]}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-700",children:s.resourceCode||"-"})}),e.jsx("td",{children:e.jsx("span",{className:"text-gray-700",children:s.actionCode||"-"})}),e.jsx("td",{children:s.enabled?e.jsx("span",{className:"badge badge-light-success fs-7",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary fs-7",children:"停用"})})]},s.code)})})]})})})})]},h)})})})]})},Se=()=>{const{id:a}=G(),j=T(),{alert:m,showAlert:l,Alert:x}=_(),[p,h]=n.useState(!0),[i,b]=n.useState(!1),[c,u]=n.useState(null),[N,s]=n.useState([]),[t,o]=n.useState([]),[g,k]=n.useState(""),[v,w]=n.useState(""),S=n.useCallback(async()=>{if(a)try{const d=await Y(a,l);d&&(u(d),o(d.permissionCodes??[]))}catch(d){console.error(d),l("取得角色資訊失敗","danger")}},[a,l]),r=n.useCallback(async()=>{try{const d={page:0,size:1e3,keyword:g.trim()||void 0,systemCode:v||void 0,enabled:!0},C=await ie(d,l);s(C.content||[])}catch(d){console.error(d),l("取得權限列表失敗","danger")}},[g,v,l]);n.useEffect(()=>{(async()=>{h(!0),await Promise.all([S(),r()]),h(!1)})()},[S,r]);const f=n.useMemo(()=>{const d={};return N.forEach(C=>{const P=C.systemCode||"OTHER";d[P]||(d[P]=[]),d[P].push(C)}),d},[N]),A=n.useMemo(()=>{const d=new Set;return N.forEach(C=>{C.systemCode&&d.add(C.systemCode)}),Array.from(d).sort()},[N]),$=d=>{o(C=>C.includes(d)?C.filter(P=>P!==d):[...C,d])},Z=d=>{const C=d.every(P=>t.includes(P));o(C?P=>P.filter(E=>!d.includes(E)):P=>{const E=[...P];return d.forEach(U=>{E.includes(U)||E.push(U)}),E})},L=n.useMemo(()=>{const d={total:N.length,selected:t.length,bySystem:{}};return Object.entries(f).forEach(([C,P])=>{const E=P.filter(U=>t.includes(U.code)).length;d.bySystem[C]={total:P.length,selected:E}}),d},[N,t,f]),J=async()=>{if(!(!a||!c||!window.confirm("確定要更新角色的權限設定嗎？"))){b(!0);try{await W(a,{permissionCodes:t},l)&&(await S(),l("權限設定已更新","success"))}catch(C){console.error(C),l("更新權限設定失敗","danger")}finally{b(!1)}}},X=()=>{j(`/upms/role/${a}/detail`)};return p?e.jsxs(M,{children:[e.jsx(D,{title:"角色權限設定",breadcrumbs:[{label:"權限管理",href:"#",active:!1},{label:"角色",active:!1},{label:"權限設定",active:!0}]}),e.jsx("div",{className:"d-flex justify-content-center py-10",children:e.jsx(Q,{animation:"border"})})]}):c?e.jsxs(M,{children:[m&&e.jsx(x,{message:m.message,type:m.type}),e.jsx(D,{title:"角色權限設定",breadcrumbs:[{label:"權限管理",href:"#",active:!1},{label:"角色",active:!1},{label:c.name,href:`/upms/role/${a}/detail`,active:!1},{label:"權限設定",active:!0}]}),e.jsx("div",{className:"app-container container-fluid",children:e.jsxs("div",{className:"row g-6",children:[e.jsx("div",{className:"col-12 col-lg-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-0 pt-6",children:e.jsx("h3",{className:"card-title align-items-start flex-column",children:e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"角色資訊"})})}),e.jsx("div",{className:"card-body pt-0",children:e.jsx("table",{className:"table table-row-dashed table-row-gray-200 align-middle gs-0 gy-3",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted w-100px",children:"角色代碼"}),e.jsx("td",{className:"fw-semibold",children:c.code})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"角色名稱"}),e.jsx("td",{className:"fw-semibold",children:c.name})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"描述"}),e.jsx("td",{className:"fw-semibold",children:c.description||"-"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"狀態"}),e.jsx("td",{children:c.enabled?e.jsx("span",{className:"badge badge-light-success",children:"啟用"}):e.jsx("span",{className:"badge badge-light-secondary",children:"停用"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-muted",children:"已選權限"}),e.jsx("td",{children:e.jsxs("span",{className:"badge badge-light-primary fs-6 fw-bold",children:[t.length," 個"]})})]})]})})})]})}),e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"權限列表"}),e.jsxs("span",{className:"text-muted mt-1 fw-semibold fs-7",children:["勾選要賦予此角色的權限（已選 ",L.selected," / ",L.total,"）"]})]}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("input",{type:"text",className:"form-control form-control-solid w-200px",placeholder:"搜尋權限...",value:g,onChange:d=>k(d.target.value),onKeyDown:d=>{d.key==="Enter"&&r()}}),A.length>0&&e.jsxs("select",{className:"form-select form-select-solid w-150px",value:v,onChange:d=>w(d.target.value),children:[e.jsx("option",{value:"",children:"所有系統"}),A.map(d=>e.jsx("option",{value:d,children:d},d))]})]})})]}),e.jsx("div",{className:"card-body pt-0",children:e.jsx(ke,{groupedPermissions:f,selectedPermissions:new Set(t),stats:L,onToggle:$,onToggleAll:Z})}),e.jsx("div",{className:"card-footer border-0 pt-6",children:e.jsxs("div",{className:"d-flex justify-content-end gap-3",children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:X,disabled:i,children:"取消"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:J,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"儲存中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{iconName:"check",className:"fs-2 me-2"}),"儲存權限設定"]})})]})})]})})]})})]}):e.jsxs(M,{children:[e.jsx(D,{title:"角色權限設定",breadcrumbs:[{label:"權限管理",href:"#",active:!1},{label:"角色",active:!1},{label:"權限設定",active:!0}]}),e.jsx("div",{className:"text-center py-10 text-muted",children:"查無角色資料"})]})},F=[{title:"角色與權限",path:"/upms/role/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],Ps=()=>e.jsxs(ae,{children:[e.jsx(R,{element:e.jsx(te,{to:"overview"}),index:!0}),e.jsx(R,{path:"overview",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:F,children:"角色總覽"}),e.jsx(de,{})]})}),e.jsx(R,{path:"list",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:F,children:"角色列表"}),e.jsx(pe,{})]})}),e.jsx(R,{path:"create",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:F,children:"新增角色"}),e.jsx(ve,{})]})}),e.jsx(R,{path:":id/detail",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:F,children:"角色詳情"}),e.jsx(Ce,{})]})}),e.jsx(R,{path:":id/permissions",element:e.jsxs(e.Fragment,{children:[e.jsx(K,{breadcrumbs:F,children:"角色權限設定"}),e.jsx(Se,{})]})})]});export{Ps as default};
