import{r as l,j as e}from"./react-DwkAs-v9.js";import{K as I,e as M,C as P,h as R,P as A}from"./index-wbzsHQ-6.js";import{f as U,d as O,u as F,c as k}from"./Query-BauNN0h1.js";import{C as q}from"./ConfirmDeleteModal-BXGAXcew.js";import{a as L,g as K,d as G,e as T,f as _}from"./react-router-Df4HDh8c.js";import{S as B}from"./react-bootstrap-BUaeuJHt.js";import"./apexcharts-sziEC8OT.js";import"./react-dom-DVTd-Q6a.js";import"./scheduler-CylivXx-.js";import"./axios-mH-cpkvd.js";import"./formik-B67XZPDW.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-ClCkCI8n.js";import"./react-fast-compare-0sFLRPh9.js";import"./hoist-non-react-statics-C-8QU_9G.js";import"./react-is-8JwjhRSi.js";import"./yup-BLKqc-jj.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-7gDswQQa.js";import"./clsx-B-dksMZM.js";import"./react-router-dom-BJfVfmV5.js";import"./@remix-run-DUdlTjFu.js";import"./chart.js-xWmoy_ii.js";import"./@kurkle-D8fDXNIl.js";import"./@tanstack-BGZqBxWN.js";import"./react-copy-to-clipboard-C4AWj7CK.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./prism-react-renderer-BV8xJdsO.js";import"./react-select-Z1ywkuii.js";import"./@babel-B036hIWL.js";import"./@emotion-Cdt29Dgm.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-DZ2V_EUC.js";import"./use-isomorphic-layout-effect-CgCMJW-V.js";import"./memoize-one-DxrTgWdQ.js";import"./@popperjs-D8Kg5PqX.js";import"./react-topbar-progress-indicator-BI-R5WY2.js";import"./topbar-C3UDlew2.js";import"./bootstrap-D7dJWYZj.js";import"./classnames-Bztn78Bv.js";import"./dom-helpers-C9Bu-4wA.js";import"./@restart-rvtB3BAN.js";import"./dequal-tFQomdd2.js";import"./warning-DaFg7xBm.js";import"./prop-types-smO-eibg.js";import"./uncontrollable-C0VNg-tm.js";import"./react-transition-group-DSbRRiC3.js";const z=10,$=({searchKeyword:s,showAlert:c,onEdit:t})=>{const[o,r]=l.useState([]),[i,m]=l.useState(0),[d,h]=l.useState(1),[x,p]=l.useState(1),[E,f]=l.useState(!1),[j,b]=l.useState(null),[g,N]=l.useState(!1),u=L(),y=l.useCallback(async()=>{f(!0);const a={page:x-1,size:z,keyword:s||void 0},v=await U(a,c);r(v.content),m(v.totalElements),h(v.totalPages||1),f(!1)},[x,s,c]);l.useEffect(()=>{p(1)},[s]),l.useEffect(()=>{y()},[y]);const S=a=>{b(a)},C=async()=>{if(j)try{N(!0),await O(j.uuid,c)&&(c("刪除司機成功","success"),await y(),b(null))}finally{N(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:[e.jsx("th",{className:"min-w-150px",children:"姓名"}),e.jsx("th",{className:"min-w-150px",children:"電話"}),e.jsx("th",{className:"min-w-125px",children:"駕照類型"}),e.jsx("th",{className:"min-w-125px",children:"狀態"}),e.jsx("th",{className:"min-w-80px",children:"上線"}),e.jsx("th",{className:"min-w-125px text-end",children:"功能"})]})}),e.jsx("tbody",{children:E?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-10",children:"載入中…"})}):o.length>0?o.map(a=>e.jsxs("tr",{className:"cursor-pointer table-row-hover",onClick:()=>u(`/fms/driver/${a.uuid}/detail`),children:[e.jsx("td",{children:a.name??"-"}),e.jsx("td",{children:a.phone??"-"}),e.jsx("td",{children:a.licenseType}),e.jsx("td",{children:a.status==="ACTIVE"?e.jsx("span",{className:"badge badge-light-success fw-bolder px-4 py-3",children:"ACTIVE"}):a.status==="INACTIVE"?e.jsx("span",{className:"badge badge-light-secondary fw-bolder px-4 py-3",children:"INACTIVE"}):a.status==="LEAVE"?e.jsx("span",{className:"badge badge-light-warning fw-bolder px-4 py-3",children:"LEAVE"}):e.jsx("span",{className:"badge badge-light-secondary fw-bolder px-4 py-3",children:a.status})}),e.jsx("td",{children:a.onDuty?e.jsx("span",{className:"badge badge-light-success fw-bolder px-4 py-3",children:"上線"}):e.jsx("span",{className:"badge badge-light-secondary fw-bolder px-4 py-3",children:"離線"})}),e.jsxs("td",{className:"text-end",children:[e.jsxs("button",{className:"btn btn-sm btn-warning",onClick:v=>{v.stopPropagation(),t(a)},children:[e.jsx(I,{iconName:"message-edit",className:"fs-2"}),"編輯"]}),e.jsxs("button",{className:"btn btn-sm btn-danger ms-2",onClick:v=>{v.stopPropagation(),S(a)},children:[e.jsx(I,{iconName:"cross",className:"fs-2"}),"刪除"]})]})]},a.uuid)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center text-muted py-10",children:"尚無司機資料"})})})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[e.jsxs("span",{className:"text-muted",children:["第 ",x," / ",d," 頁，共 ",i," 筆"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"btn btn-sm btn-light",disabled:x<=1,onClick:()=>p(a=>Math.max(1,a-1)),children:"上一頁"}),e.jsx("button",{className:"btn btn-sm btn-light",disabled:x>=d,onClick:()=>p(a=>Math.min(d,a+1)),children:"下一頁"})]})]}),j&&e.jsx(q,{open:!!j,title:"刪除司機",deleting:g,message:e.jsxs("p",{children:["是否確定要刪除司機「",e.jsx("strong",{children:j.name??j.phone}),"」？"]}),onClose:()=>g?null:b(null),onConfirm:C})]})},J=[{value:"SMALL",label:"小型車（SMALL）"},{value:"MEDIUM",label:"中型車（MEDIUM）"},{value:"LARGE",label:"大型車（LARGE）"},{value:"TRAILER",label:"聯結車 / 拖車（TRAILER）"}],Y=[{value:"ACTIVE",label:"在職（ACTIVE）"},{value:"INACTIVE",label:"停用 / 離職（INACTIVE）"},{value:"LEAVE",label:"請假（LEAVE）"}],H=({open:s,onClose:c,showAlert:t,onSaved:o,editingDriver:r})=>{const[i,m]=l.useState(""),[d,h]=l.useState(""),[x,p]=l.useState("LARGE"),[E,f]=l.useState("ACTIVE"),[j,b]=l.useState(!1),[g,N]=l.useState(""),[u,y]=l.useState(""),[S,C]=l.useState(!1),a=!!r;if(l.useEffect(()=>{if(!r){m(""),h(""),p("LARGE"),f("ACTIVE"),b(!1),N(""),y("");return}m(r.name),h(r.phone),p(r.licenseType),f(r.status),b(r.onDuty??!1),N(r.userId??""),y(r.currentVehicleId??"")},[r]),!s)return null;const v=async()=>{if(!i.trim()){t("請輸入司機姓名","warning");return}if(!d.trim()){t("請輸入聯絡電話","warning");return}try{C(!0);const n={name:i.trim(),phone:d.trim(),licenseType:x,status:E,onDuty:j,userId:g.trim()||void 0,currentVehicleId:u.trim()||void 0};let w=!1;if(a&&r){const D={...n};w=await F(r.uuid,D,t)}else{const D={...n};w=await k(D,t)}w&&o()}finally{C(!1)}};return e.jsx("div",{className:"modal fade show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0,0,0,.25)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx(I,{iconName:a?"message-edit":"plus",className:"fs-2 me-2"}),a?"編輯司機":"新增司機"]}),e.jsx("button",{className:"btn btn-sm btn-light",onClick:c,disabled:S,children:"×"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row g-5",children:[e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"司機姓名"}),e.jsx("input",{className:"form-control",value:i,onChange:n=>m(n.target.value),placeholder:"例如：王小明"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"聯絡電話"}),e.jsx("input",{className:"form-control",value:d,onChange:n=>h(n.target.value),placeholder:"例如：0912-345-678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"駕照類型"}),e.jsx("select",{className:"form-select",value:x,onChange:n=>p(n.target.value),children:J.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"司機狀態"}),e.jsx("select",{className:"form-select",value:E,onChange:n=>f(n.target.value),children:Y.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]})]}),e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-3",children:[e.jsxs("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"driverOnDutySwitch",checked:j,onChange:n=>b(n.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"driverOnDutySwitch",children:"上線（可接任務）"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"綁定後台使用者（userId）"}),e.jsx("input",{className:"form-control",value:g,onChange:n=>N(n.target.value),placeholder:"UPMS 使用者 UUID，可留空"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"綁定車輛（currentVehicleId）"}),e.jsx("input",{className:"form-control",value:u,onChange:n=>y(n.target.value),placeholder:"FMS 車輛 UUID，可留空"})]})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-light",onClick:c,disabled:S,children:"取消"}),e.jsx("button",{className:"btn btn-primary",onClick:v,disabled:S,children:S?"儲存中…":"儲存"})]})]})})})},Q=()=>{const{alert:s,showAlert:c,Alert:t}=M(),[o,r]=l.useState(!1),[i,m]=l.useState(null),[d,h]=l.useState(""),[x,p]=l.useState(""),[E,f]=l.useState(0),j=u=>{u.key==="Enter"&&h(x.trim())},b=()=>{f(u=>u+1),r(!1),m(null)},g=()=>{m(null),r(!0)},N=u=>{m(u),r(!0)};return e.jsxs(P,{children:[s&&e.jsx(t,{message:s.message,type:s.type}),e.jsx("div",{children:e.jsxs("ol",{className:"breadcrumb text-muted fs-6 fw-bold",children:[e.jsx("li",{className:"breadcrumb-item pe-3",children:e.jsx("a",{href:"#",className:"pe-3",children:"FMS 司機管理"})}),e.jsx("li",{className:"breadcrumb-item px-3 text-muted",children:"司機列表"})]})}),e.jsx("div",{className:"app-content flex-column-fluid",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx("div",{className:"card-title",children:e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(I,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text",className:"form-control form-control-solid w-250px ps-14",placeholder:"搜尋姓名 / 電話 / 狀態",value:x,onChange:u=>p(u.target.value),onKeyDown:j})]})}),e.jsx("div",{className:"card-toolbar",children:e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:g,children:[e.jsx(I,{iconName:"plus",className:"fs-2"}),"新增司機"]})})]}),e.jsx("div",{className:"card-body py-4",children:e.jsx($,{searchKeyword:d,showAlert:c,onEdit:N},E)})]})}),e.jsx(H,{open:o,onClose:()=>{r(!1),m(null)},showAlert:c,editingDriver:i,onSaved:b})]})},W=({mode:s,submitting:c=!1,initialValues:t,onSubmit:o,onCancel:r})=>{const[i,m]=l.useState(""),[d,h]=l.useState(""),[x,p]=l.useState("LARGE"),[E,f]=l.useState("ACTIVE"),[j,b]=l.useState(!1),[g,N]=l.useState(""),[u,y]=l.useState(""),S=s==="edit";l.useEffect(()=>{t&&(t.name!==void 0&&m(t.name),t.phone!==void 0&&h(t.phone),t.licenseType!==void 0&&p(t.licenseType),t.status!==void 0&&f(t.status),t.onDuty!==void 0&&b(t.onDuty),t.userId!==void 0&&N(t.userId||""),t.currentVehicleId!==void 0&&y(t.currentVehicleId||""))},[t]);const C=async a=>{if(a.preventDefault(),!i.trim()){alert("請輸入司機姓名");return}if(!d.trim()){alert("請輸入聯絡電話");return}const v={name:i.trim(),phone:d.trim(),licenseType:x,status:E,onDuty:j,userId:g||void 0,currentVehicleId:u||void 0};await o(v)};return e.jsxs("form",{className:"form",noValidate:!0,onSubmit:C,children:[e.jsxs("div",{className:"row g-5",children:[e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"司機姓名（name）"}),e.jsx("input",{className:"form-control",value:i,onChange:a=>m(a.target.value),placeholder:"例如：王小明"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"聯絡電話（phone）"}),e.jsx("input",{className:"form-control",value:d,onChange:a=>h(a.target.value),placeholder:"例如：0912-345-678"}),e.jsx("div",{className:"form-text",children:"將會套用唯一限制（unique），避免重複建立同一個司機。"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"駕照類型（licenseType）"}),e.jsxs("select",{className:"form-select",value:x,onChange:a=>p(a.target.value),children:[e.jsx("option",{value:"SMALL",children:"小型車（SMALL）"}),e.jsx("option",{value:"MEDIUM",children:"中型車（MEDIUM）"}),e.jsx("option",{value:"LARGE",children:"大型車（LARGE）"}),e.jsx("option",{value:"TRAILER",children:"聯結車 / 拖車（TRAILER）"})]})]})]}),e.jsxs("div",{className:"col-md-6 d-flex flex-column gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label required",children:"司機狀態（status）"}),e.jsxs("select",{className:"form-select",value:E,onChange:a=>f(a.target.value),children:[e.jsx("option",{value:"ACTIVE",children:"在職（ACTIVE）"}),e.jsx("option",{value:"INACTIVE",children:"停用 / 離職（INACTIVE）"}),e.jsx("option",{value:"LEAVE",children:"請假 / 暫停派遣（LEAVE）"})]})]}),e.jsxs("div",{className:"form-check form-switch form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"driverOnDutySwitch",checked:j,onChange:a=>b(a.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"driverOnDutySwitch",children:"上線中（可接任務）"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"綁定使用者 UUID（userId）"}),e.jsx("input",{className:"form-control",value:g,onChange:a=>N(a.target.value),placeholder:"可留空，之後在詳情頁綁定 UPMS 使用者"}),e.jsx("div",{className:"form-text",children:"未來可改為「下拉選擇使用者」，目前先使用 UUID 手動輸入。"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"當前綁定車輛 UUID（currentVehicleId）"}),e.jsx("input",{className:"form-control",value:u,onChange:a=>y(a.target.value),placeholder:"例如：對應 fms_vehicle.uuid，可留空"})]})]})]}),e.jsxs("div",{className:"mt-8 d-flex justify-content-end",children:[r&&e.jsx("button",{type:"button",className:"btn btn-light me-3",onClick:r,disabled:c,children:"取消"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"indicator-label",children:"儲存中…"}),e.jsxs("span",{className:"indicator-progress",children:["請稍候…",e.jsx("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{iconName:S?"message-edit":"plus",className:"fs-2 me-2"}),S?"更新司機":"建立司機"]})})]})]})},X=()=>{const s=L(),[c,t]=l.useState(!1),o=async i=>{t(!0);const m={userId:i.userId||void 0,name:i.name.trim(),phone:i.phone.trim(),licenseType:i.licenseType,status:i.status,onDuty:i.onDuty??!1,currentVehicleId:i.currentVehicleId||void 0},d=await k(m);t(!1),d?s("/fms/driver/list"):console.error("新增司機失敗")},r=()=>{s(-1)};return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title",children:"新增司機"})}),e.jsx("div",{className:"card-body",children:e.jsx(W,{mode:"create",submitting:c,onSubmit:o,onCancel:r})})]})},Z=s=>({uuid:s.id,name:s.name,phone:s.phone,licenseType:s.licenseType,status:s.status,onDuty:s.onDuty,userId:s.userId??null,username:s.username??null,currentVehicleId:s.currentVehicleId??null,currentVehiclePlateNo:s.currentVehiclePlateNo??null,currentVehicleType:s.currentVehicleType??null,createdTime:s.createdTime,updatedTime:s.updatedTime,recentVehicles:s.recentVehicles??[],recentOrders:s.recentOrders??[]});async function ee(s,c){try{const o=(await R.get(`/api/fms/drivers/${s}`)).data.data;return o?Z(o):null}catch(t){return console.error(t),null}}const se=({detail:s})=>e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(I,{iconName:"user",className:"fs-2 me-2"}),"基本資訊"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"姓名"}),e.jsx("div",{className:"fs-5",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"電話"}),e.jsx("div",{children:s.phone??"—"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"綁定使用者帳號"}),e.jsx("div",{children:s.userId??"（未綁定）"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"建立時間"}),e.jsx("div",{children:s.createdTime??"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"fw-bold text-muted",children:"最後更新時間"}),e.jsx("div",{children:s.updatedTime??"—"})]})]})]}),ae=({detail:s})=>{const c=(()=>{switch(s.status){case"ACTIVE":return e.jsx("span",{className:"badge badge-light-success",children:"ACTIVE"});case"LEAVE":return e.jsx("span",{className:"badge badge-light-warning",children:"LEAVE"});case"INACTIVE":return e.jsx("span",{className:"badge badge-light-secondary",children:"INACTIVE"});default:return e.jsx("span",{className:"badge badge-light",children:s.status})}})();return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(I,{iconName:"shield-tick",className:"fs-2 me-2"}),"狀態資訊"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"目前狀態"}),e.jsx("div",{children:c})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"是否上線中（On duty）"}),e.jsx("div",{children:s.onDuty?e.jsx("span",{className:"badge badge-light-success",children:"上線中"}):e.jsx("span",{className:"badge badge-light-secondary",children:"未上線"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"fw-bold text-muted",children:"駕照類型"}),e.jsx("div",{className:"fs-6",children:s.licenseType??"—"})]})]})]})},le=({detail:s})=>{const c=s.currentVehicleId;return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(I,{iconName:"car",className:"fs-2 me-2"}),"綁定車輛"]})}),e.jsx("div",{className:"card-body",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"fw-bold text-muted",children:"車輛 ID"}),e.jsx("div",{children:c})]}),e.jsx("div",{className:"text-muted",children:"（之後可改成顯示車牌、車種、狀態 — 需後端提供 VehicleDetail）"})]}):e.jsx("div",{className:"text-muted",children:"目前未綁定車輛"})})]})},te=({detail:s})=>e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(I,{iconName:"chart",className:"fs-2 me-2"}),"司機統計資料（預留）"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{className:"text-muted",children:["這裡將顯示：",e.jsx("br",{}),"• 接單數量",e.jsx("br",{}),"• 完成率 / 準時率",e.jsx("br",{}),"• 表揚 / 申訴紀錄",e.jsx("br",{}),"• 歷史 OnDuty 記錄",e.jsx("br",{}),e.jsx("br",{}),"（目前為 MVP 預留區域）"]}),e.jsx("pre",{className:"bg-light p-3 rounded",children:JSON.stringify(s.status,null,2)})]})]}),re=()=>{const{id:s}=K(),[c,t]=l.useState(!0),[o,r]=l.useState(null),[i,m]=l.useState(null),d=l.useCallback(async()=>{if(s)try{t(!0),m(null);const h=await ee(s);h||m("找不到司機資料"),r(h)}catch(h){console.error(h),m("取得司機詳情失敗，請稍後再試")}finally{t(!1)}},[s]);return l.useEffect(()=>{d()},[d]),s?c?e.jsx("div",{className:"d-flex justify-content-center py-10",children:e.jsx(B,{animation:"border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"載入中…"})})}):i||!o?e.jsx("div",{className:"alert alert-danger",children:i??"司機資料不存在"}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-xl-4 mb-5",children:e.jsx(se,{detail:o,reload:d})}),e.jsx("div",{className:"col-12 col-xl-4 mb-5",children:e.jsx(ae,{detail:o,reload:d})}),e.jsx("div",{className:"col-12 col-xl-4 mb-5",children:e.jsx(le,{detail:o,reload:d})}),e.jsx("div",{className:"col-12 mb-5",children:e.jsx(te,{detail:o})})]}):e.jsx("div",{className:"alert alert-danger",children:"缺少司機 ID"})},V=[{title:"司機管理",path:"/fms/driver/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],ss=()=>e.jsxs(G,{children:[e.jsx(T,{index:!0,element:e.jsx(_,{to:"list"})}),e.jsx(T,{path:"list",element:e.jsxs(e.Fragment,{children:[e.jsx(A,{breadcrumbs:V,children:"司機列表"}),e.jsx(Q,{})]})}),e.jsx(T,{path:"create",element:e.jsxs(e.Fragment,{children:[e.jsx(A,{breadcrumbs:V,children:"新增司機"}),e.jsx(X,{})]})}),e.jsx(T,{path:":id/detail",element:e.jsxs(e.Fragment,{children:[e.jsx(A,{breadcrumbs:V,children:"司機詳情"}),e.jsx(re,{})]})})]});export{ss as default};
