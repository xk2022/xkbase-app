import{r as n,j as s}from"./react-DwkAs-v9.js";import{b as y,c as g,d as N,C as j,K as p}from"./index-BdFDZIEO.js";import"./react-copy-to-clipboard-C4AWj7CK.js";import"./prism-react-renderer-BV8xJdsO.js";import"./react-dom-DVTd-Q6a.js";import{a as v}from"./react-router-Df4HDh8c.js";import"./apexcharts-sziEC8OT.js";import"./axios-mH-cpkvd.js";import"./formik-B67XZPDW.js";import"./deepmerge-DhIoniG1.js";import"./lodash-es-ClCkCI8n.js";import"./react-fast-compare-0sFLRPh9.js";import"./hoist-non-react-statics-C-8QU_9G.js";import"./react-is-8JwjhRSi.js";import"./yup-BLKqc-jj.js";import"./property-expr-DEi1ZLzV.js";import"./tiny-case-BJ7jYKNY.js";import"./toposort-7gDswQQa.js";import"./clsx-B-dksMZM.js";import"./react-router-dom-BJfVfmV5.js";import"./@remix-run-DUdlTjFu.js";import"./chart.js-xWmoy_ii.js";import"./@kurkle-D8fDXNIl.js";import"./@tanstack-BGZqBxWN.js";import"./react-bootstrap-BUaeuJHt.js";import"./classnames-Bztn78Bv.js";import"./dom-helpers-C9Bu-4wA.js";import"./@restart-rvtB3BAN.js";import"./dequal-tFQomdd2.js";import"./@popperjs-D8Kg5PqX.js";import"./warning-DaFg7xBm.js";import"./prop-types-smO-eibg.js";import"./uncontrollable-C0VNg-tm.js";import"./react-transition-group-DSbRRiC3.js";import"./@babel-B036hIWL.js";import"./react-select-Z1ywkuii.js";import"./@emotion-Cdt29Dgm.js";import"./stylis-YPZU7XtI.js";import"./@floating-ui-DZ2V_EUC.js";import"./use-isomorphic-layout-effect-CgCMJW-V.js";import"./memoize-one-DxrTgWdQ.js";import"./react-topbar-progress-indicator-BI-R5WY2.js";import"./topbar-C3UDlew2.js";import"./bootstrap-D7dJWYZj.js";import"./scheduler-CylivXx-.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";const us=()=>{const{hasSystemPermission:i,hasSystem:h,systems:l,setSelectedSystemUuid:o}=y(),{hasPermission:d}=g(),b=v();n.useEffect(()=>{const t=l.find(r=>{var a;return((a=r.code)==null?void 0:a.toUpperCase())==="HRM"});t&&o(t.id)},[l,o]);const c=n.useMemo(()=>{const t=[];return N.forEach(r=>{if(r.requiredSystem!=="HRM"||!r.sectionTitle)return;const a=[];r.items.forEach(e=>{if(!(e.to==="/hrm/dashboard"||e.to.includes("/:id/")||e.to.includes("/:uuid/"))&&e.type==="item"){let m=!1;if(e.requiredPermission){const u=i(e.requiredPermission),f=d(e.requiredPermission);m=!u||!f}a.push({title:e.title,path:e.to,requiredPermission:e.requiredPermission,disabled:m})}}),t.push({sectionTitle:r.sectionTitle,displayTitle:r.sectionTitle,items:a})}),t},[i,h,d]),x=(t,r)=>{r||b(t)};return s.jsx(j,{children:s.jsxs("div",{className:"row g-5 g-xl-10 mb-5 mb-xl-10",children:[s.jsx("div",{className:"col-12 mb-5",children:s.jsxs("div",{className:"card card-flush",children:[s.jsx("div",{className:"card-header pt-7",children:s.jsx("div",{className:"card-title",children:s.jsx("h2",{className:"fw-bold text-gray-800",children:"HRM 人資管理系統"})})}),s.jsx("div",{className:"card-body pt-6",children:s.jsx("p",{className:"text-gray-600 fs-6 mb-0",children:"以下是 HRM 系統的可用功能模組，請選擇一個模組開始使用。"})})]})}),c.length===0?s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card card-flush",children:s.jsxs("div",{className:"card-body text-center py-10",children:[s.jsx(p,{iconName:"information-5",className:"fs-3x text-gray-400 mb-5"}),s.jsx("h3",{className:"text-gray-800 mb-3",children:"暫無可用功能"}),s.jsx("p",{className:"text-gray-600 mb-0",children:"您目前沒有可訪問的功能，請聯繫管理員分配權限。"})]})})}):s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex gap-5 overflow-x-auto pb-3 hrm-dashboard-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e0 transparent",WebkitOverflowScrolling:"touch"},children:[s.jsx("style",{children:`
                .hrm-dashboard-scroll::-webkit-scrollbar {
                  height: 8px;
                }
                .hrm-dashboard-scroll::-webkit-scrollbar-track {
                  background: transparent;
                }
                .hrm-dashboard-scroll::-webkit-scrollbar-thumb {
                  background-color: #cbd5e0;
                  border-radius: 4px;
                }
                .hrm-dashboard-scroll::-webkit-scrollbar-thumb:hover {
                  background-color: #a0aec0;
                }
              `}),c.map(t=>s.jsxs("div",{className:"card card-flush flex-shrink-0",style:{minWidth:"300px",width:"300px"},children:[s.jsx("div",{className:"card-header pt-7",children:s.jsx("div",{className:"card-title",children:s.jsx("h3",{className:"fw-bold text-gray-800 fs-4",children:t.displayTitle})})}),s.jsx("div",{className:"card-body pt-6",children:s.jsxs("div",{className:"d-flex flex-column gap-3",children:[t.items.map((r,a)=>s.jsx("button",{type:"button",className:`btn btn-flex text-start p-4 ${r.disabled?"btn-light-secondary":"btn-light btn-active-light-primary"}`,onClick:()=>x(r.path,r.disabled),disabled:r.disabled,style:{transition:"all 0.2s ease",opacity:r.disabled?.6:1,cursor:r.disabled?"not-allowed":"pointer"},onMouseEnter:e=>{r.disabled||(e.currentTarget.classList.remove("btn-light"),e.currentTarget.classList.add("btn-primary"))},onMouseLeave:e=>{r.disabled||(e.currentTarget.classList.remove("btn-primary"),e.currentTarget.classList.add("btn-light"))},children:s.jsxs("span",{className:`fw-semibold ${r.disabled?"text-gray-400":"text-gray-700"}`,children:[r.title,r.disabled&&s.jsx(p,{iconName:"lock",className:"fs-6 ms-2 text-gray-400"})]})},a)),t.items.length===0&&s.jsx("p",{className:"text-muted fs-7 mb-0",children:"暫無功能"})]})})]},t.sectionTitle))]})})]})})};export{us as default};
